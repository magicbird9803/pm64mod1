% Script File: 7E0E80 (80280000) WorldLib.wscr
% Decoded from: 7E0E80 to 7E73A0 (ROM)

% 007E0E80 --> 80280000
#new:Function $Function_shop_owner_begin_speech
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFE0
    C:  SW        RA, 18 (SP)
   10:  SW        S1, 14 (SP)
   14:  SW        S0, 10 (SP)
   18:  LW        S1, 144 (V0)
   1C:  LI        A1, 1
   20:  LW        V0, 10 (S1)
   24:  LW        V1, 18 (V0)
   28:  SLL       V0, A0, 2
   2C:  LA        A0, $Script_ShopBeginSpeech
   34:  ADDU      V0, V0, V1
   38:  LW        S0, 0 (V0)
   3C:  JAL       ~Func:start_script
   40:  CLEAR     A2
   44:  COPY      A0, V0
   48:  SW        S0, 84 (A0)
   4C:  LW        V0, 10 (S1)
   50:  LW        V0, 0 (V0)
   54:  SW        V0, 88 (A0)
   58:  LW        V0, 10 (S1)
   5C:  LW        V0, 8 (V0)
   60:  SW        V0, 8C (A0)
   64:  LW        V1, 10 (S1)
   68:  LW        V0, 144 (A0)
   6C:  LW        V1, 4 (V1)
   70:  SW        V1, 90 (A0)
   74:  LW        RA, 18 (SP)
   78:  LW        S1, 14 (SP)
   7C:  LW        S0, 10 (SP)
   80:  JR        RA
   84:  ADDIU     SP, SP, 20
}

% 007E0F08 --> 80280088
#new:Function $Function_shop_owner_buy_dialog
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFD8
    C:  SW        S2, 18 (SP)
   10:  COPY      S2, A2
   14:  SW        S1, 14 (SP)
   18:  COPY      S1, A3
   1C:  SW        RA, 20 (SP)
   20:  SW        S3, 1C (SP)
   24:  SW        S0, 10 (SP)
   28:  LW        S0, 144 (V0)
   2C:  SLL       V0, A0, 2
   30:  LW        V1, 10 (S0)
   34:  COPY      A0, A1
   38:  LW        V1, 18 (V1)
   3C:  ADDU      V0, V0, V1
   40:  LW        S3, 0 (V0)
   44:  JAL       ~Func:set_message_string
   48:  CLEAR     A1
   4C:  COPY      A0, S2
   50:  JAL       ~Func:set_message_value
   54:  LI        A1, 1
   58:  BLEZ      S1, .o70
   5C:  COPY      A0, S1
   60:  JAL       ~Func:set_message_value
   64:  LI        A1, 2
   68:  BEQ       R0, R0, .o94
   6C:  NOP
        .o70
   70:  LA        A0, 8014C290
   78:  LI        V0, 1
   7C:  BNE       S2, V0, .o8C
   80:  NOP
   84:  LA        A0, 8014C294
        .o8C
   8C:  JAL       ~Func:set_message_string
   90:  LI        A1, 2
        .o94
   94:  LA        A0, $Script_ShopBeginSpeech
   9C:  LI        A1, 1
   A0:  JAL       ~Func:start_script
   A4:  CLEAR     A2
   A8:  COPY      A0, V0
   AC:  SW        S3, 84 (A0)
   B0:  LW        V0, 10 (S0)
   B4:  LW        V0, 0 (V0)
   B8:  SW        V0, 88 (A0)
   BC:  LW        V0, 10 (S0)
   C0:  LW        V0, 8 (V0)
   C4:  SW        V0, 8C (A0)
   C8:  LW        V1, 10 (S0)
   CC:  LW        V0, 144 (A0)
   D0:  LW        V1, 4 (V1)
   D4:  SW        V1, 90 (A0)
   D8:  LW        RA, 20 (SP)
   DC:  LW        S3, 1C (SP)
   E0:  LW        S2, 18 (SP)
   E4:  LW        S1, 14 (SP)
   E8:  LW        S0, 10 (SP)
   EC:  JR        RA
   F0:  ADDIU     SP, SP, 28
}

% 007E0FFC --> 8028017C
#new:Function $Function_shop_owner_continue_speech
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFE0
    C:  SW        RA, 18 (SP)
   10:  SW        S1, 14 (SP)
   14:  SW        S0, 10 (SP)
   18:  LW        S1, 144 (V0)
   1C:  LI        A1, 1
   20:  LW        V0, 10 (S1)
   24:  LW        V1, 18 (V0)
   28:  SLL       V0, A0, 2
   2C:  LA        A0, $Script_ShopContinueSpeech
   34:  ADDU      V0, V0, V1
   38:  LW        S0, 0 (V0)
   3C:  JAL       ~Func:start_script
   40:  CLEAR     A2
   44:  COPY      A0, V0
   48:  SW        S0, 84 (A0)
   4C:  LW        V0, 10 (S1)
   50:  LW        V0, 0 (V0)
   54:  SW        V0, 88 (A0)
   58:  LW        V0, 10 (S1)
   5C:  LW        V0, 8 (V0)
   60:  SW        V0, 8C (A0)
   64:  LW        V1, 10 (S1)
   68:  LW        V0, 144 (A0)
   6C:  LW        V1, 4 (V1)
   70:  SW        V1, 90 (A0)
   74:  SW        V1, 7C (A0)
   78:  LW        RA, 18 (SP)
   7C:  LW        S1, 14 (SP)
   80:  LW        S0, 10 (SP)
   84:  JR        RA
   88:  ADDIU     SP, SP, 20
}

% 007E1088 --> 80280208
#new:Function $Function_shop_owner_continue_speech_with_quantity
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFE0
    C:  SW        S0, 10 (SP)
   10:  COPY      S0, A1
   14:  SW        RA, 1C (SP)
   18:  SW        S2, 18 (SP)
   1C:  SW        S1, 14 (SP)
   20:  LW        S1, 144 (V0)
   24:  CLEAR     A1
   28:  LW        V1, 10 (S1)
   2C:  SLL       V0, A0, 2
   30:  LW        V1, 18 (V1)
   34:  ADDU      V0, V0, V1
   38:  LW        S2, 0 (V0)
   3C:  JAL       ~Func:set_message_value
   40:  COPY      A0, S0
   44:  LA        A0, 8014C290
   4C:  LI        V0, 1
   50:  BNE       S0, V0, .o60
   54:  NOP
   58:  LA        A0, 8014C294
        .o60
   60:  JAL       ~Func:set_message_string
   64:  LI        A1, 1
   68:  LA        A0, $Script_ShopContinueSpeech
   70:  LI        A1, 1
   74:  JAL       ~Func:start_script
   78:  CLEAR     A2
   7C:  COPY      A0, V0
   80:  SW        S2, 84 (A0)
   84:  LW        V0, 10 (S1)
   88:  LW        V0, 0 (V0)
   8C:  SW        V0, 88 (A0)
   90:  LW        V0, 10 (S1)
   94:  LW        V0, 8 (V0)
   98:  SW        V0, 8C (A0)
   9C:  LW        V1, 10 (S1)
   A0:  LW        V0, 144 (A0)
   A4:  LW        V1, 4 (V1)
   A8:  SW        V1, 90 (A0)
   AC:  SW        V1, 7C (A0)
   B0:  LW        RA, 1C (SP)
   B4:  LW        S2, 18 (SP)
   B8:  LW        S1, 14 (SP)
   BC:  LW        S0, 10 (SP)
   C0:  JR        RA
   C4:  ADDIU     SP, SP, 20
}

% 007E1150 --> 802802D0
#new:Function $Function_shop_owner_reset_speech
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFE0
    C:  SW        RA, 18 (SP)
   10:  SW        S1, 14 (SP)
   14:  SW        S0, 10 (SP)
   18:  LW        S1, 144 (V0)
   1C:  LI        A1, 1
   20:  LW        V0, 10 (S1)
   24:  LW        V1, 18 (V0)
   28:  SLL       V0, A0, 2
   2C:  LA        A0, $Script_ShopResetSpeech
   34:  ADDU      V0, V0, V1
   38:  LW        S0, 0 (V0)
   3C:  JAL       ~Func:start_script
   40:  CLEAR     A2
   44:  COPY      A0, V0
   48:  SW        S0, 84 (A0)
   4C:  LW        V0, 10 (S1)
   50:  LW        V0, 0 (V0)
   54:  SW        V0, 88 (A0)
   58:  LW        V0, 10 (S1)
   5C:  LW        V0, 8 (V0)
   60:  SW        V0, 8C (A0)
   64:  LW        V1, 10 (S1)
   68:  LW        V0, 144 (A0)
   6C:  LW        V1, 4 (V1)
   70:  SW        V1, 90 (A0)
   74:  SW        V1, 7C (A0)
   78:  LW        RA, 18 (SP)
   7C:  LW        S1, 14 (SP)
   80:  LW        S0, 10 (SP)
   84:  JR        RA
   88:  ADDIU     SP, SP, 20
}

% 007E11DC --> 8028035C
#new:Function $Function_shop_owner_end_speech
{
    0:  ADDIU     SP, SP, FFE8
    4:  LA        A0, $Script_ShopEndSpeech
    C:  LI        A1, 1
   10:  LAW       V0, 8007419C
   18:  SW        RA, 14 (SP)
   1C:  SW        S0, 10 (SP)
   20:  LW        S0, 144 (V0)
   24:  JAL       ~Func:start_script
   28:  CLEAR     A2
   2C:  LW        V1, 10 (S0)
   30:  LW        V1, 0 (V1)
   34:  COPY      A0, V0
   38:  SW        V1, 84 (A0)
   3C:  LW        V0, 10 (S0)
   40:  LW        V0, 8 (V0)
   44:  SW        V0, 88 (A0)
   48:  LW        V1, 10 (S0)
   4C:  LW        V0, 144 (A0)
   50:  LW        V1, 4 (V1)
   54:  SW        V1, 8C (A0)
   58:  SW        V1, 7C (A0)
   5C:  LW        RA, 14 (SP)
   60:  LW        S0, 10 (SP)
   64:  JR        RA
   68:  ADDIU     SP, SP, 18
}

% Origin: HEURISTIC
% 007E1248 --> 802803C8
#new:Function $Function_802803C8
{
    0:  LA        A1, 8010EFC8
    8:  SW        R0, 8C (A0)
    C:  LB        V1, B4 (A1)
   10:  LI        V0, 4
   14:  BEQ       V1, V0, .o38
   18:  LI        V0, 8
   1C:  BEQ       V1, V0, .o38
   20:  NOP
   24:  LW        V0, 0 (A1)
   28:  ANDI      V0, V0, 100
   2C:  BNE       V0, R0, .o40
   30:  LI        V0, 1
   34:  SW        V0, 8C (A0)
        .o38
   38:  JR        RA
   3C:  LI        V0, 2
        .o40
   40:  JR        RA
   44:  LI        V0, 2
}

% Origin: HEURISTIC
% 007E1290 --> 80280410
#new:Function $Function_80280410
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S2, 18 (SP)
    8:  LA        S2, 8007419C
   10:  SW        RA, 1C (SP)
   14:  SW        S1, 14 (SP)
   18:  SW        S0, 10 (SP)
   1C:  LW        V0, C (A0)
   20:  LW        V1, 0 (S2)
   24:  LW        A1, 0 (V0)
   28:  JAL       ~Func:get_variable
   2C:  LW        S0, 144 (V1)
   30:  LHU       V1, 0 (S0)
   34:  ANDI      V1, V1, 8
   38:  BNE       V1, R0, .oC4
   3C:  COPY      S1, V0
   40:  LHU       V0, 0 (S0)
   44:  SW        S1, 8 (S0)
   48:  ORI       V0, V0, 1
   4C:  JAL       800E98EC
   50:  SH        V0, 0 (S0)
   54:  LW        V1, 0 (S2)
   58:  LI        V0, 5
   5C:  SW        V0, 358 (S0)
   60:  LW        V0, 10 (V1)
   64:  ANDI      V0, V0, 8000
   68:  BEQ       V0, R0, .oF4
   6C:  LI        V0, 2
   70:  JAL       ~Func:disable_player_input
   74:  NOP
   78:  JAL       ~Func:disable_player_static_collisions
   7C:  NOP
   80:  LA        A0, $Script_BadgeShopInteract
   88:  LI        A1, 1
   8C:  JAL       ~Func:start_script
   90:  CLEAR     A2
   94:  COPY      V1, V0
   98:  LW        A1, 144 (V1)
   9C:  SW        S1, 84 (V1)
   A0:  LHU       A0, 0 (S0)
   A4:  CLEAR     V0
   A8:  SAW       V1, 80286520
   B0:  ORI       A0, A0, 8
   B4:  SAW       A1, 80286524
   BC:  BEQ       R0, R0, .oF4
   C0:  SH        A0, 0 (S0)
        .oC4
   C4:  LAW       A0, 80286524
   C8:  JAL       ~Func:does_script_exist
   CC:  RESERVED
   D0:  BNEL      V0, R0, .oF4
   D4:  CLEAR     V0
   D8:  LHU       V0, 0 (S0)
   DC:  ANDI      V0, V0, FFF7
   E0:  JAL       ~Func:enable_player_static_collisions
   E4:  SH        V0, 0 (S0)
   E8:  JAL       ~Func:enable_player_input
   EC:  NOP
   F0:  LI        V0, 2
        .oF4
   F4:  LW        RA, 1C (SP)
   F8:  LW        S2, 18 (SP)
   FC:  LW        S1, 14 (SP)
  100:  LW        S0, 10 (SP)
  104:  JR        RA
  108:  ADDIU     SP, SP, 20
}

% 007E139C --> 8028051C
#new:Function $Function_ShowShopPurchaseDialog
{
    0:  ADDIU     SP, SP, FFD0
    4:  SW        S3, 1C (SP)
    8:  COPY      S3, A0
    C:  SW        S0, 10 (SP)
   10:  COPY      S0, A1
   14:  SW        S6, 28 (SP)
   18:  LA        S6, 8010F290
   20:  SW        RA, 2C (SP)
   24:  SW        S5, 24 (SP)
   28:  SW        S4, 20 (SP)
   2C:  SW        S2, 18 (SP)
   30:  SW        S1, 14 (SP)
   34:  LW        S5, 84 (S3)
   38:  LAW       V1, 8007419C
   40:  SLL       V0, S5, 1
   44:  LW        S4, 144 (V1)
   48:  ADDU      V0, V0, S5
   4C:  LW        V1, 18 (S4)
   50:  SLL       V0, V0, 2
   54:  ADDU      S2, V1, V0
   58:  LHU       V0, 0 (S4)
   5C:  LW        V1, 0 (S2)
   60:  ANDI      V0, V0, FFFE
   64:  SH        V0, 0 (S4)
   68:  LA        V0, 800878E0
   70:  SLL       V1, V1, 5
   74:  JAL       800E9900
   78:  ADDU      S1, V1, V0
   7C:  BEQ       S0, R0, .oEC
   80:  NOP
   84:  LHU       V0, 18 (S1)
   88:  SAW       R0, 80286530
   90:  SAW       R0, 80286534
   98:  ANDI      V0, V0, 40
   9C:  BEQ       V0, R0, .oC0
   A0:  LI        A3, FFFF
   A4:  LBU       V1, 1A (S1)
   A8:  SLL       V0, V1, 2
   AC:  ADDU      V0, V0, V1
   B0:  SLL       V0, V0, 2
   B4:  LTB       A3, V0 (8008F072)
        .oC0
   C0:  LW        A1, 0 (S1)
   C4:  LW        A2, 4 (S2)
   C8:  JAL       ~Func:shop_owner_buy_dialog
   CC:  CLEAR     A0
   D0:  SW        V0, 74 (S3)
   D4:  JAL       ~Func:increment_status_menu_disabled
   D8:  SW        R0, 70 (S3)
   DC:  JAL       800E9900
   E0:  NOP
   E4:  JAL       ~Func:show_coin_counter
   E8:  NOP
        .oEC
   EC:  LW        V1, 70 (S3)
   F0:  LI        S0, 5
   F4:  BEQ       V1, S0, .o30C
   F8:  SLTI      V0, V1, 6
   FC:  BEQ       V0, R0, .o134
  100:  LI        V0, 1
  104:  BEQ       V1, V0, .o2BC
  108:  SLTI      V0, V1, 2
  10C:  BEQ       V0, R0, .o124
  110:  LI        V0, 4
  114:  BEQ       V1, R0, .o174
  118:  CLEAR     V0
  11C:  BEQ       R0, R0, .o410
  120:  NOP
        .o124
  124:  BEQ       V1, V0, .o2E4
  128:  CLEAR     V0
  12C:  BEQ       R0, R0, .o410
  130:  NOP
        .o134
  134:  LI        S0, A
  138:  BEQ       V1, S0, .o380
  13C:  SLTI      V0, V1, B
  140:  BEQ       V0, R0, .o158
  144:  LI        V0, 6
  148:  BEQ       V1, V0, .o348
  14C:  CLEAR     V0
  150:  BEQ       R0, R0, .o410
  154:  NOP
        .o158
  158:  LI        V0, B
  15C:  BEQ       V1, V0, .o3D4
  160:  LI        V0, 64
  164:  BEQ       V1, V0, .o1B0
  168:  CLEAR     V0
  16C:  BEQ       R0, R0, .o410
  170:  NOP
        .o174
  174:  JAL       ~Func:does_script_exist
  178:  LW        A0, 74 (S3)
  17C:  BNE       V0, R0, .o410
  180:  CLEAR     V0
  184:  LI        A0, 001E0001
  18C:  ADDIU     A1, S3, 78
  190:  LI        V0, 64
  194:  SW        V0, 70 (S3)
  198:  JAL       ~Func:msg_get_printer_for_string
  19C:  SW        R0, 78 (S3)
  1A0:  SAW       V0, 80286528
  1A8:  BEQ       R0, R0, .o410
  1AC:  CLEAR     V0
        .o1B0
  1B0:  LW        S0, 78 (S3)
  1B4:  LI        V0, 1
  1B8:  BNE       S0, V0, .o410
  1BC:  CLEAR     V0
  1C0:  LAW       V0, 80286528
  1C8:  LBU       V0, 4E8 (V0)
  1CC:  BNE       V0, R0, .o2A4
  1D0:  NOP
  1D4:  LH        V0, C (S6)
  1D8:  LW        V1, 4 (S2)
  1DC:  SLT       V0, V0, V1
  1E0:  BEQ       V0, R0, .o1FC
  1E4:  NOP
  1E8:  JAL       ~Func:shop_owner_continue_speech
  1EC:  LI        A0, 1
  1F0:  SW        V0, 74 (S3)
  1F4:  BEQ       R0, R0, .o40C
  1F8:  SW        S0, 70 (S3)
        .o1FC
  1FC:  LW        V0, 0 (S2)
  200:  ADDIU     V0, V0, FF20
  204:  SLTIU     V0, V0, 75						%check
  208:  BNE       V0, R0, .o23C
  20C:  NOP
  210:  JAL       ~Func:add_item
  214:  CLEAR     A0
  218:  LI        V1, FFFF
  21C:  BNE       V0, V1, .o23C
  220:  NOP
  224:  JAL       ~Func:shop_owner_continue_speech
  228:  LI        A0, 2
  22C:  SW        V0, 74 (S3)
  230:  LI        V0, 4
  234:  BEQ       R0, R0, .o40C
  238:  SW        V0, 70 (S3)
        .o23C
  23C:  LHU       V0, C (S6)
  240:  LHU       V1, 6 (S2)
  244:  SUBU      V0, V0, V1
  248:  SH        V0, C (S6)
  24C:  LW        A0, 0 (S2)
  250:  ADDIU     V0, A0, FF20
  254:  SLTIU     V0, V0, 75						%check
  258:  BEQ       V0, R0, .o284
  25C:  NOP
  260:  JAL       ~Func:add_badge
  264:  NOP
  268:  CLEAR     A0
  26C:  LI        A1, *GF_MAC01_BoughtBadgeFromRowf
  274:  JAL       ~Func:set_variable
  278:  LI        A2, 1
  27C:  BEQ       R0, R0, .o28C
  280:  NOP
        .o284
  284:  JAL       ~Func:add_item
  288:  NOP
        .o28C
  28C:  JAL       ~Func:shop_owner_continue_speech
  290:  LI        A0, 3
  294:  SW        V0, 74 (S3)
  298:  LI        V0, 5
  29C:  BEQ       R0, R0, .o40C
  2A0:  SW        V0, 70 (S3)
        .o2A4
  2A4:  JAL       ~Func:shop_owner_reset_speech
  2A8:  LI        A0, 16
  2AC:  SW        V0, 74 (S3)
  2B0:  LI        V0, 6
  2B4:  BEQ       R0, R0, .o40C
  2B8:  SW        V0, 70 (S3)
        .o2BC
  2BC:  LW        A0, 74 (S3)
  2C0:  JAL       ~Func:does_script_exist
  2C4:  NOP
  2C8:  BNE       V0, R0, .o410
  2CC:  CLEAR     V0
  2D0:  LW        V1, 0 (S2)
  2D4:  SAW       R0, 80286534
  2DC:  BEQ       R0, R0, .o334
  2E0:  LI        V0, A
        .o2E4
  2E4:  LW        A0, 74 (S3)
  2E8:  JAL       ~Func:does_script_exist
  2EC:  NOP
  2F0:  BNE       V0, R0, .o410
  2F4:  CLEAR     V0
  2F8:  LW        V1, 0 (S2)
  2FC:  SAW       S0, 80286534
  304:  BEQ       R0, R0, .o334
  308:  LI        V0, A
        .o30C
  30C:  LW        A0, 74 (S3)
  310:  JAL       ~Func:does_script_exist
  314:  NOP
  318:  BNE       V0, R0, .o410
  31C:  CLEAR     V0
  320:  LW        V1, 0 (S2)
  324:  LI        V0, 1
  328:  SAW       V0, 80286534
  330:  LI        V0, A
        .o334
  334:  SW        V0, 70 (S3)
  338:  SAW       V1, 80286530
  340:  BEQ       R0, R0, .o410
  344:  CLEAR     V0
        .o348
  348:  LW        A0, 74 (S3)
  34C:  JAL       ~Func:does_script_exist
  350:  NOP
  354:  BNE       V0, R0, .o410
  358:  CLEAR     V0
  35C:  LW        V1, 0 (S2)
  360:  LI        V0, 3
  364:  SAW       V0, 80286534
  36C:  SW        S0, 70 (S3)
  370:  SAW       V1, 80286530
  378:  BEQ       R0, R0, .o410
  37C:  CLEAR     V0
        .o380
  380:  LW        V0, 10 (S4)
  384:  LA        S0, 8028652C
  38C:  BEQ       V0, R0, .o3C8
  390:  SW        R0, 0 (S0)
  394:  LW        A0, C (V0)
  398:  BEQ       A0, R0, .o3C8
  39C:  LI        A1, 1
  3A0:  JAL       ~Func:start_script
  3A4:  CLEAR     A2
  3A8:  LAW       V1, 80286534
  3B0:  LAW       A0, 80286530
  3B8:  SW        V0, 0 (S0)
  3BC:  SW        S5, 8C (V0)
  3C0:  SW        V1, 84 (V0)
  3C4:  SW        A0, 88 (V0)
        .o3C8
  3C8:  LI        V0, B
  3CC:  BEQ       R0, R0, .o40C
  3D0:  SW        V0, 70 (S3)
        .o3D4
  3D4:  LAW       V0, 8028652C
  3DC:  BEQ       V0, R0, .o3F4
  3E0:  NOP
  3E4:  JAL       ~Func:does_script_exist
  3E8:  LW        A0, 144 (V0)
  3EC:  BNE       V0, R0, .o410
  3F0:  CLEAR     V0
        .o3F4
  3F4:  JAL       ~Func:decrement_status_menu_disabled
  3F8:  NOP
  3FC:  JAL       800E96C8
  400:  NOP
  404:  BEQ       R0, R0, .o410
  408:  LI        V0, 1
        .o40C
  40C:  CLEAR     V0
        .o410
  410:  LW        RA, 2C (SP)
  414:  LW        S6, 28 (SP)
  418:  LW        S5, 24 (SP)
  41C:  LW        S4, 20 (SP)
  420:  LW        S3, 1C (SP)
  424:  LW        S2, 18 (SP)
  428:  LW        S1, 14 (SP)
  42C:  LW        S0, 10 (SP)
  430:  JR        RA
  434:  ADDIU     SP, SP, 30
}

% 007E17D4 --> 80280954
#new:Function $Function_shop_open_item_select_popup
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFC0
    C:  SW        RA, 3C (SP)
   10:  SW        S8, 38 (SP)
   14:  SW        S7, 34 (SP)
   18:  SW        S6, 30 (SP)
   1C:  SW        S5, 2C (SP)
   20:  SW        S4, 28 (SP)
   24:  SW        S3, 24 (SP)
   28:  SW        S2, 20 (SP)
   2C:  SW        S1, 1C (SP)
   30:  SW        S0, 18 (SP)
   34:  LW        V0, 144 (V0)			%8007419C + 144
   38:  COPY      S7, A0
   3C:  ADDIU     V0, V0, 28			%28 + v0
   40:  BEQ       S7, R0, .o5C
   44:  SW        V0, 10 (SP)			%Store some heap pointer
   48:  LI        V0, 1
   4C:  BEQ       S7, V0, .o68
   50:  LI        S5, 7
   54:  BEQ       R0, R0, .o70
   58:  LI        S4, 20
        .o5C
   5C:  LI        S5, 5
   60:  BEQ       R0, R0, .o70
   64:  LI        S4, A
        .o68
   68:  LI        S5, 6
   6C:  LI        S4, A
        .o70
   70:  CLEAR     S2
   74:  BEQ       S4, R0, .o114
   78:  COPY      S3, S2
   7C:  SLTI      S8, S7, 2
   80:  LA        S6, 800878E0
   88:  LA        S1, 8010F290
   90:  LW        S0, 10 (SP)			%Grab some heap pointer from somewhere
        .o94
   94:  BEQ       S8, R0, .oAC
   98:  NOP
   9C:  BLTZ      S7, .oAC
   A0:  NOP
   A4:  BEQ       R0, R0, .oB0
   A8:  LH        A0, 1B4 (S1)			%get normal item
        .oAC
   AC:  LH        A0, 1C8 (S1)			%get shop item
        .oB0
   B0:  BEQ       A0, R0, .o104
   B4:  SLL       V0, A0, 5
   B8:  ADDU      V1, V0, S6
   BC:  LH        V0, 4 (V1)
   C0:  LA        A1, 8008A680			%consult icon table
   C8:  SLL       V0, V0, 3
   CC:  ADDU      V0, V0, A1
   D0:  LW        V0, 0 (V0)
   D4:  LI        A1, 1
   D8:  SW        S2, 108 (S0)			%S0 = some heap pointer
   DC:  SW        A1, 18C (S0)
   E0:  SW        V0, 0 (S0)
   E4:  LW        V0, 0 (V1)
   E8:  SW        V0, 84 (S0)
   EC:  LW        V0, 14 (V1)
   F0:  ADDU      S3, S3, A1
   F4:  JAL       ~Func:shop_get_sell_price
   F8:  SW        V0, 294 (S0)
   FC:  SW        V0, 210 (S0)
  100:  ADDIU     S0, S0, 4				%Add 4 to here
        .o104
  104:  ADDIU     S2, S2, 1
  108:  SLT       V0, S2, S4
  10C:  BNE       V0, R0, .o94
  110:  ADDIU     S1, S1, 2
        .o114
  114:  LW        A0, 10 (SP)
  118:  SW        S5, 318 (A0)
  11C:  SW        S3, 324 (A0)
  120:  JAL       800F4FC4
  124:  SW        R0, 328 (A0)
  128:  JAL       800E9894
  12C:  NOP
  130:  JAL       800E98EC
  134:  NOP
  138:  JAL       ~Func:open_status_menu_short
  13C:  NOP
  140:  LW        RA, 3C (SP)
  144:  LW        S8, 38 (SP)
  148:  LW        S7, 34 (SP)
  14C:  LW        S6, 30 (SP)
  150:  LW        S5, 2C (SP)
  154:  LW        S4, 28 (SP)
  158:  LW        S3, 24 (SP)
  15C:  LW        S2, 20 (SP)
  160:  LW        S1, 1C (SP)
  164:  LW        S0, 18 (SP)
  168:  JR        RA
  16C:  ADDIU     SP, SP, 40
}

% 007E1944 --> 80280AC4
#new:Function $Function_shop_update_item_select_popup
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFE0
    C:  SW        RA, 1C (SP)
   10:  SW        S2, 18 (SP)
   14:  SW        S1, 14 (SP)
   18:  SW        S0, 10 (SP)
   1C:  LW        V0, 144 (V0)
   20:  COPY      S2, A0
   24:  LH        S0, 354 (V0)
   28:  BNE       S0, R0, .o38
   2C:  ADDIU     S1, V0, 28
   30:  BEQ       R0, R0, .o68
   34:  CLEAR     V0
        .o38
   38:  JAL       ~Func:hide_popup_menu
   3C:  NOP
   40:  LI        V0, FF
   44:  BNE       S0, V0, .o54
   48:  ADDIU     V0, S0, FFFF
   4C:  BEQ       R0, R0, .o60
   50:  LI        V0, FFFF
        .o54
   54:  SLL       V0, V0, 2
   58:  ADDU      V0, S1, V0
   5C:  LW        V0, 108 (V0)
        .o60
   60:  SW        V0, 0 (S2)
   64:  LI        V0, 1
        .o68
   68:  LW        RA, 1C (SP)
   6C:  LW        S2, 18 (SP)
   70:  LW        S1, 14 (SP)
   74:  LW        S0, 10 (SP)
   78:  JR        RA
   7C:  ADDIU     SP, SP, 20
}

% 007E19C4 --> 80280B44
#new:Function $Function_shop_close_item_select_popup
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  JAL       ~Func:destroy_popup_menu
    C:  NOP
   10:  JAL       800E9900
   14:  NOP
   18:  JAL       800E98C4
   1C:  NOP
   20:  JAL       ~Func:close_status_menu
   24:  NOP
   28:  LW        RA, 10 (SP)
   2C:  JR        RA
   30:  ADDIU     SP, SP, 18
}

% 007E19F8 --> 80280B78
#new:Function $Function_shop_get_sell_price
{
    0:  LAW       V0, 8007419C
    8:  LW        V0, 144 (V0)
    C:  LH        A2, 4 (V0)
   10:  LW        V1, 1C (V0)
   14:  BLEZ      A2, .o40
   18:  CLEAR     A1
        .o1C
   1C:  LW        V0, 0 (V1)
   20:  BNE       V0, A0, .o34
   24:  ADDIU     A1, A1, 1
   28:  LW        V0, 4 (V1)
   2C:  JR        RA
   30:  NOP
        .o34
   34:  SLT       V0, A1, A2
   38:  BNE       V0, R0, .o1C
   3C:  ADDIU     V1, V1, C
        .o40
   40:  SLL       V0, A0, 5
   44:  LTH       V0, V0 (800878EC)
   50:  JR        RA
   54:  NOP
}

% 007E1A50 --> 80280BD0
#new:Function $Function_ShowShopOwnerDialog
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFD8
    C:  SW        S1, 14 (SP)
   10:  SW        S2, 18 (SP)
   14:  LA        S2, 8010F290
   1C:  SW        RA, 20 (SP)
   20:  SW        S3, 1C (SP)
   24:  SW        S0, 10 (SP)
   28:  LW        S0, 144 (V0)
   2C:  BEQ       A1, R0, .o48
   30:  COPY      S1, A0
   34:  JAL       ~Func:shop_owner_begin_speech
   38:  LI        A0, 4
   3C:  SW        V0, 74 (S1)
   40:  LI        V0, 4
   44:  SW        V0, 70 (S1)
        .o48
   48:  LW        V1, 70 (S1)
   4C:  LI        S3, 20
   50:  BEQ       V1, S3, .o4B0
   54:  SLTI      V0, V1, 21
   58:  BEQ       V0, R0, .oF8
   5C:  LI        V0, 7
   60:  BEQ       V1, V0, .o694
   64:  SLTI      V0, V1, 8
   68:  BEQ       V0, R0, .oB0
   6C:  LI        V0, 3
   70:  BEQ       V1, V0, .o3D8
   74:  SLTI      V0, V1, 4
   78:  BEQ       V0, R0, .o98
   7C:  LI        V0, 4
   80:  BEQ       V1, R0, .o7F4
   84:  LI        V0, 2
   88:  BEQ       V1, V0, .o348
   8C:  CLEAR     V0
   90:  BEQ       R0, R0, .o848
   94:  NOP
        .o98
   98:  BEQ       V1, V0, .o198
   9C:  LI        V0, 5
   A0:  BEQ       V1, V0, .o550
   A4:  CLEAR     V0
   A8:  BEQ       R0, R0, .o848
   AC:  NOP
        .oB0
   B0:  LI        V0, C
   B4:  BEQ       V1, V0, .o4D8
   B8:  SLTI      V0, V1, D
   BC:  BEQ       V0, R0, .oDC
   C0:  LI        V0, 9
   C4:  BEQ       V1, V0, .o7F4
   C8:  LI        V0, A
   CC:  BEQ       V1, V0, .o814
   D0:  CLEAR     V0
   D4:  BEQ       R0, R0, .o848
   D8:  NOP
        .oDC
   DC:  LI        V0, 15
   E0:  BEQ       V1, V0, .o364
   E4:  LI        V0, 1F
   E8:  BEQ       V1, V0, .o400
   EC:  CLEAR     V0
   F0:  BEQ       R0, R0, .o848
   F4:  NOP
        .oF8
   F8:  LI        V0, 47
   FC:  BEQ       V1, V0, .o6BC
  100:  SLTI      V0, V1, 48
  104:  BEQ       V0, R0, .o150
  108:  LI        V0, 33
  10C:  BEQ       V1, V0, .o56C
  110:  SLTI      V0, V1, 34
  114:  BEQ       V0, R0, .o134
  118:  LI        V0, 29
  11C:  BEQ       V1, V0, .o1BC
  120:  LI        V0, 2A
  124:  BEQ       V1, V0, .o7F4
  128:  CLEAR     V0
  12C:  BEQ       R0, R0, .o848
  130:  NOP
        .o134
  134:  LI        V0, 34
  138:  BEQ       V1, V0, .o608
  13C:  LI        V0, 35
  140:  BEQ       V1, V0, .o630
  144:  CLEAR     V0
  148:  BEQ       R0, R0, .o848
  14C:  NOP
        .o150
  150:  LI        V0, C9
  154:  BEQ       V1, V0, .o320
  158:  SLTI      V0, V1, CA
  15C:  BEQ       V0, R0, .o17C
  160:  LI        V0, 48
  164:  BEQ       V1, V0, .o760
  168:  LI        V0, 49
  16C:  BEQ       V1, V0, .o7A0
  170:  CLEAR     V0
  174:  BEQ       R0, R0, .o848
  178:  NOP
        .o17C
  17C:  LI        V0, 1F5
  180:  BEQ       V1, V0, .o52C
  184:  LI        V0, 2BD
  188:  BEQ       V1, V0, .o66C
  18C:  CLEAR     V0
  190:  BEQ       R0, R0, .o848
  194:  NOP
        .o198
  198:  JAL       ~Func:does_script_exist
  19C:  LW        A0, 74 (S1)
  1A0:  BNE       V0, R0, .o848
  1A4:  CLEAR     V0
  1A8:  LI        A0, 001E0003
  1B0:  ADDIU     A1, S1, 78
  1B4:  BEQ       R0, R0, .o784
  1B8:  LI        V0, 29
        .o1BC
  1BC:  LW        A0, 78 (S1)
  1C0:  LI        V0, 1
  1C4:  BNE       A0, V0, .o848
  1C8:  CLEAR     V0
  1CC:  LAW       V0, 80286538
  1D4:  LBU       V1, 4E8 (V0)
  1D8:  BEQ       V1, A0, .o224
  1DC:  SLTI      V0, V1, 2
  1E0:  BEQ       V0, R0, .o1F8
  1E4:  LI        V0, 2
  1E8:  BEQ       V1, R0, .o210
  1EC:  NOP
  1F0:  BEQ       R0, R0, .o308
  1F4:  NOP
        .o1F8
  1F8:  BEQ       V1, V0, .o25C
  1FC:  LI        V0, 3
  200:  BEQ       V1, V0, .o2B8
  204:  NOP
  208:  BEQ       R0, R0, .o308
  20C:  NOP
        .o210
  210:  JAL       ~Func:shop_owner_continue_speech
  214:  LI        A0, 5
  218:  SW        V0, 74 (S1)
  21C:  BEQ       R0, R0, .o844
  220:  SW        R0, 70 (S1)
        .o224
  224:  JAL       ~Func:get_item_count
  228:  NOP
  22C:  BNE       V0, R0, .o244
  230:  NOP
  234:  JAL       ~Func:shop_owner_continue_speech
  238:  LI        A0, 6
  23C:  BEQ       R0, R0, .o7E8
  240:  SW        V0, 74 (S1)
        .o244
  244:  JAL       ~Func:shop_owner_continue_speech
  248:  LI        A0, 7
  24C:  SW        V0, 74 (S1)
  250:  LI        V0, C9
  254:  BEQ       R0, R0, .o844
  258:  SW        V0, 70 (S1)
        .o25C
  25C:  JAL       ~Func:get_item_count
  260:  NOP
  264:  BNE       V0, R0, .o27C
  268:  NOP
  26C:  JAL       ~Func:shop_owner_continue_speech
  270:  LI        A0, C
  274:  BEQ       R0, R0, .o7E8
  278:  SW        V0, 74 (S1)
        .o27C
  27C:  JAL       ~Func:get_stored_empty_count
  280:  NOP
  284:  BNE       V0, R0, .o29C
  288:  NOP
  28C:  JAL       ~Func:shop_owner_continue_speech
  290:  LI        A0, D
  294:  BEQ       R0, R0, .o7E8
  298:  SW        V0, 74 (S1)
        .o29C
  29C:  JAL       ~Func:get_stored_empty_count
  2A0:  NOP
  2A4:  LI        A0, E
  2A8:  JAL       ~Func:shop_owner_continue_speech_with_quantity
  2AC:  COPY      A1, V0
  2B0:  BEQ       R0, R0, .o660
  2B4:  SW        V0, 74 (S1)
        .o2B8
  2B8:  JAL       ~Func:get_stored_count
  2BC:  NOP
  2C0:  BNE       V0, R0, .o2D8
  2C4:  NOP
  2C8:  JAL       ~Func:shop_owner_continue_speech
  2CC:  LI        A0, 11
  2D0:  BEQ       R0, R0, .o7E8
  2D4:  SW        V0, 74 (S1)
        .o2D8
  2D8:  JAL       ~Func:get_item_empty_count
  2DC:  NOP
  2E0:  BNE       V0, R0, .o2F8
  2E4:  NOP
  2E8:  JAL       ~Func:shop_owner_continue_speech
  2EC:  LI        A0, 12
  2F0:  BEQ       R0, R0, .o7E8
  2F4:  SW        V0, 74 (S1)
        .o2F8
  2F8:  JAL       ~Func:shop_owner_continue_speech
  2FC:  LI        A0, 13
  300:  BEQ       R0, R0, .o7D0
  304:  SW        V0, 74 (S1)
        .o308
  308:  JAL       ~Func:shop_owner_end_speech
  30C:  NOP
  310:  SW        V0, 74 (S1)
  314:  LI        V0, 2A
  318:  BEQ       R0, R0, .o844
  31C:  SW        V0, 70 (S1)
        .o320
  320:  LW        A0, 74 (S1)
  324:  JAL       ~Func:does_script_exist
  328:  NOP
  32C:  BNE       V0, R0, .o848
  330:  CLEAR     V0
  334:  JAL       ~Func:shop_open_item_select_popup
  338:  CLEAR     A0
  33C:  LI        V0, 2
  340:  BEQ       R0, R0, .o844
  344:  SW        V0, 70 (S1)
        .o348
  348:  JAL       ~Func:shop_update_item_select_popup
  34C:  ADDIU     A0, S0, C
  350:  LI        V1, 1
  354:  BNE       V0, V1, .o848
  358:  CLEAR     V0
  35C:  BEQ       R0, R0, .o6AC
  360:  LI        V0, 15
        .o364
  364:  LW        V0, 74 (S1)
  368:  BGTZ      V0, .o6C8
  36C:  ADDIU     V0, V0, FFFF
  370:  JAL       ~Func:shop_close_item_select_popup
  374:  NOP
  378:  LW        V0, C (S0)
  37C:  BLTZ      V0, .o3C8
  380:  SLL       V0, V0, 1
  384:  ADDU      V0, V0, S2
  388:  LH        A0, 1B4 (V0)
  38C:  LA        V0, 800878E0
  394:  SLL       S0, A0, 5
  398:  JAL       ~Func:shop_get_sell_price
  39C:  ADDU      S0, S0, V0
  3A0:  LI        A0, 8
  3A4:  COPY      A2, V0
  3A8:  LW        A1, 0 (S0)
  3AC:  JAL       ~Func:shop_owner_buy_dialog
  3B0:  LI        A3, FFFF
  3B4:  JAL       ~Func:show_coin_counter
  3B8:  SW        V0, 74 (S1)
  3BC:  LI        V0, 3
  3C0:  BEQ       R0, R0, .o844
  3C4:  SW        V0, 70 (S1)
        .o3C8
  3C8:  JAL       ~Func:shop_owner_begin_speech
  3CC:  LI        A0, 16
  3D0:  BEQ       R0, R0, .o7E8
  3D4:  SW        V0, 74 (S1)
        .o3D8
  3D8:  LW        A0, 74 (S1)
  3DC:  JAL       ~Func:does_script_exist
  3E0:  NOP
  3E4:  BNE       V0, R0, .o848
  3E8:  CLEAR     V0
  3EC:  LI        A0, 001E0002
  3F4:  ADDIU     A1, S1, 78
  3F8:  BEQ       R0, R0, .o784
  3FC:  LI        V0, 1F
        .o400
  400:  LW        V1, 78 (S1)
  404:  LI        V0, 1
  408:  BNE       V1, V0, .o848
  40C:  CLEAR     V0
  410:  LAW       V0, 80286538
  418:  LBU       V0, 4E8 (V0)
  41C:  BNE       V0, R0, .o494
  420:  NOP
  424:  LW        V0, C (S0)
  428:  SLL       V0, V0, 1
  42C:  ADDU      V0, V0, S2
  430:  JAL       ~Func:shop_get_sell_price
  434:  LH        A0, 1B4 (V0)
  438:  JAL       ~Func:add_coins
  43C:  COPY      A0, V0
  440:  LW        V0, C (S0)
  444:  SLL       V0, V0, 1
  448:  ADDU      V0, V0, S2
  44C:  JAL       ~Func:get_item_count
  450:  SH        R0, 1B4 (V0)
  454:  BNE       V0, R0, .o47C
  458:  NOP
  45C:  JAL       ~Func:shop_owner_reset_speech
  460:  LI        A0, B
  464:  SW        V0, 74 (S1)
  468:  LI        V0, 9
  46C:  JAL       ~Func:hide_coin_counter
  470:  SW        V0, 70 (S1)
  474:  BEQ       R0, R0, .o848
  478:  CLEAR     V0
        .o47C
  47C:  JAL       ~Func:shop_owner_reset_speech
  480:  LI        A0, A
  484:  SW        V0, 74 (S1)
  488:  LI        V0, 20
  48C:  BEQ       R0, R0, .o844
  490:  SW        V0, 70 (S1)
        .o494
  494:  JAL       ~Func:shop_owner_reset_speech
  498:  LI        A0, 9
  49C:  SW        V0, 74 (S1)
  4A0:  JAL       ~Func:hide_coin_counter
  4A4:  SW        S3, 70 (S1)
  4A8:  BEQ       R0, R0, .o848
  4AC:  CLEAR     V0
        .o4B0
  4B0:  LW        A0, 74 (S1)
  4B4:  JAL       ~Func:does_script_exist
  4B8:  NOP
  4BC:  BNE       V0, R0, .o848
  4C0:  CLEAR     V0
  4C4:  LI        A0, 001E0004
  4CC:  ADDIU     A1, S1, 78
  4D0:  BEQ       R0, R0, .o784
  4D4:  LI        V0, C
        .o4D8
  4D8:  LW        V1, 78 (S1)
  4DC:  LI        V0, 1
  4E0:  BNE       V1, V0, .o848
  4E4:  CLEAR     V0
  4E8:  LAW       V0, 80286538
  4F0:  LBU       V0, 4E8 (V0)
  4F4:  BNE       V0, R0, .o51C
  4F8:  NOP
  4FC:  JAL       ~Func:shop_owner_end_speech
  500:  NOP
  504:  SW        V0, 74 (S1)
  508:  LI        V0, C9
  50C:  JAL       800E96C8
  510:  SW        V0, 70 (S1)
  514:  BEQ       R0, R0, .o848
  518:  CLEAR     V0
        .o51C
  51C:  JAL       800E96C8
  520:  NOP
  524:  BEQ       R0, R0, .o7DC
  528:  NOP
        .o52C
  52C:  JAL       ~Func:does_script_exist
  530:  LW        A0, 74 (S1)
  534:  BNE       V0, R0, .o848
  538:  CLEAR     V0
  53C:  JAL       ~Func:shop_open_item_select_popup
  540:  LI        A0, 1
  544:  LI        V0, 5
  548:  BEQ       R0, R0, .o844
  54C:  SW        V0, 70 (S1)
        .o550
  550:  JAL       ~Func:shop_update_item_select_popup
  554:  ADDIU     A0, S0, C
  558:  LI        V1, 1
  55C:  BNE       V0, V1, .o848
  560:  CLEAR     V0
  564:  BEQ       R0, R0, .o6AC
  568:  LI        V0, 33
        .o56C
  56C:  LW        V0, 74 (S1)
  570:  BGTZ      V0, .o6C8
  574:  ADDIU     V0, V0, FFFF
  578:  JAL       ~Func:shop_close_item_select_popup
  57C:  NOP
  580:  LW        V0, C (S0)
  584:  BLTZ      V0, .o5F8
  588:  SLL       V0, V0, 1
  58C:  ADDU      V0, V0, S2
  590:  JAL       ~Func:store_item
  594:  LH        A0, 1B4 (V0)
  598:  BLTZ      V0, .o5B0
  59C:  NOP
  5A0:  LW        V0, C (S0)
  5A4:  SLL       V0, V0, 1
  5A8:  ADDU      V0, V0, S2
  5AC:  SH        R0, 1B4 (V0)
        .o5B0
  5B0:  JAL       ~Func:get_item_count
  5B4:  NOP
  5B8:  BEQ       V0, R0, .o5D0
  5BC:  NOP
  5C0:  JAL       ~Func:get_stored_empty_count
  5C4:  NOP
  5C8:  BNE       V0, R0, .o5E0
  5CC:  NOP
        .o5D0
  5D0:  JAL       ~Func:shop_owner_begin_speech
  5D4:  LI        A0, F
  5D8:  BEQ       R0, R0, .o7E8
  5DC:  SW        V0, 74 (S1)
        .o5E0
  5E0:  JAL       ~Func:shop_owner_begin_speech
  5E4:  LI        A0, 10
  5E8:  SW        V0, 74 (S1)
  5EC:  LI        V0, 34
  5F0:  BEQ       R0, R0, .o844
  5F4:  SW        V0, 70 (S1)
        .o5F8
  5F8:  JAL       ~Func:shop_owner_begin_speech
  5FC:  LI        A0, 16
  600:  BEQ       R0, R0, .o7E8
  604:  SW        V0, 74 (S1)
        .o608
  608:  LW        A0, 74 (S1)
  60C:  JAL       ~Func:does_script_exist
  610:  NOP
  614:  BNE       V0, R0, .o848
  618:  CLEAR     V0
  61C:  LI        A0, 001E0005
  624:  ADDIU     A1, S1, 78
  628:  BEQ       R0, R0, .o784
  62C:  LI        V0, 35
        .o630
  630:  LW        V1, 78 (S1)
  634:  LI        V0, 1
  638:  BNE       V1, V0, .o848
  63C:  CLEAR     V0
  640:  LAW       V0, 80286538
  648:  LBU       V0, 4E8 (V0)
  64C:  BNE       V0, R0, .o7DC
  650:  NOP
  654:  JAL       ~Func:shop_owner_end_speech
  658:  NOP
  65C:  SW        V0, 74 (S1)
        .o660
  660:  LI        V0, 1F5
  664:  BEQ       R0, R0, .o844
  668:  SW        V0, 70 (S1)
        .o66C
  66C:  LW        A0, 74 (S1)
  670:  JAL       ~Func:does_script_exist
  674:  NOP
  678:  BNE       V0, R0, .o848
  67C:  CLEAR     V0
  680:  JAL       ~Func:shop_open_item_select_popup
  684:  LI        A0, 2
  688:  LI        V0, 7
  68C:  BEQ       R0, R0, .o844
  690:  SW        V0, 70 (S1)
        .o694
  694:  JAL       ~Func:shop_update_item_select_popup
  698:  ADDIU     A0, S0, C
  69C:  LI        V1, 1
  6A0:  BNE       V0, V1, .o848
  6A4:  CLEAR     V0
  6A8:  LI        V0, 47
        .o6AC
  6AC:  SW        V0, 70 (S1)
  6B0:  LI        V0, F
  6B4:  BEQ       R0, R0, .o844
  6B8:  SW        V0, 74 (S1)
        .o6BC
  6BC:  LW        V0, 74 (S1)
  6C0:  BLEZ      V0, .o6D0
  6C4:  ADDIU     V0, V0, FFFF
        .o6C8
  6C8:  BEQ       R0, R0, .o844
  6CC:  SW        V0, 74 (S1)
        .o6D0
  6D0:  JAL       ~Func:shop_close_item_select_popup
  6D4:  NOP
  6D8:  LW        V0, C (S0)
  6DC:  BLTZ      V0, .o750
  6E0:  SLL       V0, V0, 1
  6E4:  ADDU      V0, V0, S2
  6E8:  JAL       ~Func:add_item
  6EC:  LH        A0, 1C8 (V0)
  6F0:  BLTZ      V0, .o708
  6F4:  NOP
  6F8:  LW        V0, C (S0)
  6FC:  SLL       V0, V0, 1
  700:  ADDU      V0, V0, S2
  704:  SH        R0, 1C8 (V0)
        .o708
  708:  JAL       ~Func:get_item_empty_count
  70C:  NOP
  710:  BEQ       V0, R0, .o728
  714:  NOP
  718:  JAL       ~Func:get_stored_count
  71C:  NOP
  720:  BNE       V0, R0, .o738
  724:  NOP
        .o728
  728:  JAL       ~Func:shop_owner_begin_speech
  72C:  LI        A0, 14
  730:  BEQ       R0, R0, .o7E8
  734:  SW        V0, 74 (S1)
        .o738
  738:  JAL       ~Func:shop_owner_begin_speech
  73C:  LI        A0, 15
  740:  SW        V0, 74 (S1)
  744:  LI        V0, 48
  748:  BEQ       R0, R0, .o844
  74C:  SW        V0, 70 (S1)
        .o750
  750:  JAL       ~Func:shop_owner_begin_speech
  754:  LI        A0, 16
  758:  BEQ       R0, R0, .o7E8
  75C:  SW        V0, 74 (S1)
        .o760
  760:  LW        A0, 74 (S1)
  764:  JAL       ~Func:does_script_exist
  768:  NOP
  76C:  BNE       V0, R0, .o848
  770:  CLEAR     V0
  774:  LI        A0, 001E0005
  77C:  ADDIU     A1, S1, 78
  780:  LI        V0, 49
        .o784
  784:  SW        V0, 70 (S1)
  788:  JAL       ~Func:msg_get_printer_for_string
  78C:  SW        R0, 78 (S1)
  790:  SAW       V0, 80286538
  798:  BEQ       R0, R0, .o848
  79C:  CLEAR     V0
        .o7A0
  7A0:  LW        V1, 78 (S1)
  7A4:  LI        V0, 1
  7A8:  BNE       V1, V0, .o848
  7AC:  CLEAR     V0
  7B0:  LAW       V0, 80286538
  7B8:  LBU       V0, 4E8 (V0)
  7BC:  BNE       V0, R0, .o7DC
  7C0:  NOP
  7C4:  JAL       ~Func:shop_owner_end_speech
  7C8:  NOP
  7CC:  SW        V0, 74 (S1)
        .o7D0
  7D0:  LI        V0, 2BD
  7D4:  BEQ       R0, R0, .o844
  7D8:  SW        V0, 70 (S1)
        .o7DC
  7DC:  JAL       ~Func:shop_owner_reset_speech
  7E0:  LI        A0, 16
  7E4:  SW        V0, 74 (S1)
        .o7E8
  7E8:  LI        V0, 9
  7EC:  BEQ       R0, R0, .o844
  7F0:  SW        V0, 70 (S1)
        .o7F4
  7F4:  LW        A0, 74 (S1)
  7F8:  JAL       ~Func:does_script_exist
  7FC:  NOP
  800:  BNE       V0, R0, .o848
  804:  CLEAR     V0
  808:  LI        V0, A
  80C:  BEQ       R0, R0, .o844
  810:  SW        V0, 70 (S1)
        .o814
  814:  LW        V0, 10 (S0)
  818:  BEQ       V0, R0, .o834
  81C:  NOP
  820:  LW        A0, 14 (V0)
  824:  BEQ       A0, R0, .o834
  828:  LI        A1, 1
  82C:  JAL       ~Func:start_script
  830:  CLEAR     A2
        .o834
  834:  JAL       ~Func:open_status_menu_short
  838:  NOP
  83C:  BEQ       R0, R0, .o848
  840:  LI        V0, 1
        .o844
  844:  CLEAR     V0
        .o848
  848:  LW        RA, 20 (SP)
  84C:  LW        S3, 1C (SP)
  850:  LW        S2, 18 (SP)
  854:  LW        S1, 14 (SP)
  858:  LW        S0, 10 (SP)
  85C:  JR        RA
  860:  ADDIU     SP, SP, 28
}

% 007E22B4 --> 80281434
#new:Function $Function_shop_draw_item_name
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFD8
    C:  SW        RA, 24 (SP)
   10:  SW        S2, 20 (SP)
   14:  SW        S1, 1C (SP)
   18:  SW        S0, 18 (SP)
   1C:  LW        A0, 144 (V0)
   20:  COPY      S1, A1
   24:  LW        V1, 8 (A0)
   28:  COPY      S2, A2
   2C:  SLL       V0, V1, 1
   30:  ADDU      V0, V0, V1
   34:  LW        V1, 18 (A0)
   38:  SLL       V0, V0, 2
   3C:  ADDU      V1, V1, V0
   40:  LW        S0, 0 (V1)
   44:  LA        V0, 800878E0
   4C:  SLL       S0, S0, 5
   50:  ADDU      S0, S0, V0
   54:  LW        A0, 0 (S0)
   58:  JAL       ~Func:get_string_width
   5C:  CLEAR     A1
   60:  SRA       V0, V0, 1
   64:  ADDIU     V0, V0, FFC4
   68:  SUBU      A1, S1, V0
   6C:  ADDIU     A2, S2, 6
   70:  SW        R0, 10 (SP)
   74:  SW        R0, 14 (SP)
   78:  LW        A0, 0 (S0)
   7C:  JAL       ~Func:draw_string
   80:  LI        A3, FF
   84:  LW        RA, 24 (SP)
   88:  LW        S2, 20 (SP)
   8C:  LW        S1, 1C (SP)
   90:  LW        S0, 18 (SP)
   94:  JR        RA
   98:  ADDIU     SP, SP, 28
}

% 007E2350 --> 802814D0
#new:Function $Function_shop_draw_item_desc
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FFE0
    C:  SW        RA, 18 (SP)
   10:  LW        V0, 144 (V0)
   14:  ADDIU     A1, A1, 8
   18:  LW        A0, 8 (V0)
   1C:  LW        V1, 18 (V0)
   20:  LI        V0, A
   24:  SW        V0, 10 (SP)
   28:  SW        R0, 14 (SP)
   2C:  SLL       V0, A0, 1
   30:  ADDU      V0, V0, A0
   34:  SLL       V0, V0, 2
   38:  ADDU      V1, V1, V0
   3C:  LW        A0, 8 (V1)
   40:  JAL       ~Func:draw_string
   44:  LI        A3, FF
   48:  LW        RA, 18 (SP)
   4C:  JR        RA
   50:  ADDIU     SP, SP, 20
}

% 007E23A4 --> 80281524
#new:Function $Function_draw_shop_items
{
    0:  LAW       V0, 8007419C
    8:  ADDIU     SP, SP, FF90
    C:  SW        RA, 5C (SP)
   10:  SW        S8, 58 (SP)
   14:  SW        S7, 54 (SP)
   18:  SW        S6, 50 (SP)
   1C:  SW        S5, 4C (SP)
   20:  SW        S4, 48 (SP)
   24:  SW        S3, 44 (SP)
   28:  SW        S2, 40 (SP)
   2C:  SW        S1, 3C (SP)
   30:  SW        S0, 38 (SP)
   34:  SDC1      F22, 68 (SP)
   38:  SDC1      F20, 60 (SP)
   3C:  LW        S2, 144 (V0)
   40:  LHU       V0, 0 (S2)
   44:  ANDI      V0, V0, 1
   48:  BEQ       V0, R0, .o60
   4C:  LI        A0, A
   50:  LA        S0, 80147474
   58:  BEQ       R0, R0, .o68
   5C:  NOP
        .o60
   60:  LA        S0, 80147574
        .o68
   68:  JAL       ~Func:set_window_update
   6C:  COPY      A1, S0
   70:  LI        A0, B
   74:  JAL       ~Func:set_window_update
   78:  COPY      A1, S0
   7C:  LHU       V0, 0 (S2)
   80:  ANDI      V0, V0, 1
   84:  BEQ       V0, R0, .o2E0
   88:  NOP
   8C:  LA        A0, 800B1D80
   94:  LAW       V0, 8007419C
   9C:  LAW       V1, 80077410
   A4:  LW        S8, 140 (V0)
   A8:  SLL       V0, V1, 2
   AC:  ADDU      V0, V0, V1
   B0:  SLL       V0, V0, 2
   B4:  SUBU      V0, V0, V1
   B8:  SLL       V1, V0, 3
   BC:  ADDU      V0, V0, V1
   C0:  SLL       V0, V0, 3
   C4:  ADDU      S5, V0, A0
   C8:  LH        V0, 2 (S2)
   CC:  LW        A0, 18 (S2)
   D0:  BLEZ      V0, .o2E0
   D4:  CLEAR     S7
   D8:  ADDIU     S4, S8, C
   DC:  ADDIU     S6, A0, 4
   E0:  LIF       F22, 1.0
   E8:  LIF       F21, 1.75
   F0:  MTC1      R0, F20
        .oF4
   F4:  ADDIU     A0, S5, D4
   F8:  LWC1      F6, FFF8 (S4)
   FC:  LWC1      F2, FFFC (S4)
  100:  LWC1      F4, 0 (S4)
  104:  LIF       F0, 30.0
  10C:  ADDIU     V0, SP, 28
  110:  SW        V0, 14 (SP)
  114:  ADDIU     V0, SP, 2C
  118:  SW        V0, 18 (SP)
  11C:  ADDIU     V0, SP, 30
  120:  SW        V0, 1C (SP)
  124:  ADD.S     F2, F2, F0
  128:  MFC1      A1, F6
  12C:  MFC1      A3, F4
  130:  MFC1      A2, F2
  134:  ADDIU     V0, SP, 34
  138:  SWC1      F22, 10 (SP)
  13C:  JAL       ~Func:transform_point
  140:  SW        V0, 20 (SP)
  144:  LWC1      F6, 34 (SP)
  148:  LWC1      F0, 30 (SP)
  14C:  DIV.S     F6, F22, F6
  150:  MUL.S     F0, F0, F6
  154:  NOP
  158:  ADD.S     F0, F0, F22
  15C:  CVT.D.S   F0, F0
  160:  MUL.D     F0, F0, F20
  164:  NOP
  168:  LWC1      F2, 28 (SP)
  16C:  MUL.S     F8, F2, F6
  170:  NOP
  174:  LWC1      F4, 2C (SP)
  178:  NEG.S     F2, F6
  17C:  MUL.S     F10, F4, F2
  180:  NOP
  184:  MTC1      R0, F2
  188:  SWC1      F6, 34 (SP)
  18C:  SWC1      F8, 28 (SP)
  190:  SWC1      F10, 2C (SP)
  194:  CVT.S.D   F0, F0
  198:  C.LT.S    F2, F0
  19C:  NOP
  1A0:  BC1F      .o2C4
  1A4:  SWC1      F0, 30 (SP)
  1A8:  C.LT.S    F0, F22
  1AC:  NOP
  1B0:  BC1FL     .o2C8
  1B4:  ADDIU     S7, S7, 1
  1B8:  LH        V0, A (S5)
  1BC:  MTC1      V0, F0
  1C0:  NOP
  1C4:  CVT.S.W   F0, F0
  1C8:  MUL.S     F4, F8, F0
  1CC:  NOP
  1D0:  ADD.S     F4, F4, F0
  1D4:  CVT.D.S   F4, F4
  1D8:  MUL.D     F4, F4, F20
  1DC:  NOP
  1E0:  LH        V0, C (S5)
  1E4:  MTC1      V0, F0
  1E8:  NOP
  1EC:  CVT.S.W   F0, F0
  1F0:  MUL.S     F2, F10, F0
  1F4:  NOP
  1F8:  ADD.S     F2, F2, F0
  1FC:  CVT.D.S   F2, F2
  200:  MUL.D     F2, F2, F20
  204:  NOP
  208:  LH        V0, E (S5)
  20C:  MTC1      V0, F0
  210:  NOP
  214:  CVT.D.W   F0, F0
  218:  LH        V0, 10 (S5)
  21C:  ADD.D     F4, F4, F0
  220:  MTC1      V0, F0
  224:  NOP
  228:  CVT.D.W   F0, F0
  22C:  LW        V0, 0 (S6)
  230:  ADD.D     F2, F2, F0
  234:  SLTI      V0, V0, 64
  238:  TRUNC.W.D F12, F4
  23C:  MFC1      S1, F12
  240:  TRUNC.W.D F12, F2
  244:  MFC1      S3, F12
  248:  BEQ       V0, R0, .o254
  24C:  CLEAR     S0
  250:  LI        S0, FFFC
        .o254
  254:  JAL       ~Func:get_item_entity
  258:  LW        A0, 0 (S8)
  25C:  LW        V0, 0 (V0)
  260:  ANDI      V0, V0, 40
  264:  BNE       V0, R0, .o28C
  268:  ADDU      A1, S1, S0
  26C:  COPY      A2, S3
  270:  LI        V0, FF
  274:  SW        R0, 10 (SP)
  278:  SW        V0, 14 (SP)
  27C:  SW        R0, 18 (SP)
  280:  LW        A0, 0 (S6)
  284:  JAL       ~Func:draw_number
  288:  LI        A3, 1
        .o28C
  28C:  LW        V0, 8 (S2)
  290:  BNEL      S7, V0, .o2C8
  294:  ADDIU     S7, S7, 1
  298:  ADDU      A1, S1, S0
  29C:  ADDIU     A1, A1, FFFA
  2A0:  LW        A0, 20 (S2)
  2A4:  JAL       ~Func:set_hud_element_render_pos
  2A8:  ADDIU     A2, S3, 5
  2AC:  LW        A0, 20 (S2)
  2B0:  LI        A1, 3F333333
  2B4:  JAL       ~Func:set_hud_element_scale
  2B8:  RESERVED
  2BC:  JAL       ~Func:draw_hud_element_clipped
  2C0:  LW        A0, 20 (S2)
        .o2C4
  2C4:  ADDIU     S7, S7, 1
        .o2C8
  2C8:  ADDIU     S6, S6, C
  2CC:  ADDIU     S4, S4, 10
  2D0:  LH        V0, 2 (S2)
  2D4:  SLT       V0, S7, V0
  2D8:  BNE       V0, R0, .oF4
  2DC:  ADDIU     S8, S8, 10
        .o2E0
  2E0:  LW        V0, 358 (S2)
  2E4:  BLEZ      V0, .o2F4
  2E8:  ADDIU     V0, V0, FFFF
  2EC:  BEQ       R0, R0, .o304
  2F0:  SW        V0, 358 (S2)
        .o2F4
  2F4:  LHU       V0, 0 (S2)
  2F8:  ANDI      V0, V0, FFFE
  2FC:  JAL       800E9900
  300:  SH        V0, 0 (S2)
        .o304
  304:  LW        RA, 5C (SP)
  308:  LW        S8, 58 (SP)
  30C:  LW        S7, 54 (SP)
  310:  LW        S6, 50 (SP)
  314:  LW        S5, 4C (SP)
  318:  LW        S4, 48 (SP)
  31C:  LW        S3, 44 (SP)
  320:  LW        S2, 40 (SP)
  324:  LW        S1, 3C (SP)
  328:  LW        S0, 38 (SP)
  32C:  LDC1      F22, 68 (SP)
  330:  LDC1      F20, 60 (SP)
  334:  JR        RA
  338:  ADDIU     SP, SP, 70
}

% 007E26E0 --> 80281860
#new:Function $Function_MakeShop
{
    0:  ADDIU     SP, SP, FF98
    4:  SW        S1, 44 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 64 (SP)
   10:  SW        S8, 60 (SP)
   14:  SW        S7, 5C (SP)
   18:  SW        S6, 58 (SP)
   1C:  SW        S5, 54 (SP)
   20:  SW        S4, 50 (SP)
   24:  SW        S3, 4C (SP)
   28:  SW        S2, 48 (SP)
   2C:  SW        S0, 40 (SP)
   30:  LW        S0, C (S1)
   34:  LW        A1, 0 (S0)
   38:  JAL       ~Func:get_variable
   3C:  ADDIU     S0, S0, 4
   40:  LW        A1, 0 (S0)
   44:  ADDIU     S0, S0, 4
   48:  COPY      A0, S1
   4C:  JAL       ~Func:get_variable
   50:  COPY      S5, V0
   54:  LW        A1, 0 (S0)
   58:  ADDIU     S0, S0, 4
   5C:  COPY      A0, S1
   60:  JAL       ~Func:get_variable
   64:  COPY      S3, V0
   68:  COPY      A0, S1
   6C:  LW        A1, 0 (S0)
   70:  JAL       ~Func:get_variable
   74:  COPY      S1, V0
   78:  LI        A0, 35C
   7C:  JAL       ~Func:heap_malloc
   80:  COPY      S0, V0
   84:  LAW       V1, 8007419C
   8C:  COPY      S4, V0
   90:  SW        S4, 144 (V1)
   94:  SW        S5, 14 (S4)
   98:  SW        S3, 18 (S4)
   9C:  SW        S1, 1C (S4)
   A0:  SW        S0, 24 (S4)
   A4:  LW        V0, 0 (S3)
   A8:  BEQ       V0, R0, .oC0
   AC:  CLEAR     S2
        .oB0
   B0:  ADDIU     S3, S3, C
   B4:  LW        V0, 0 (S3)
   B8:  BNE       V0, R0, .oB0
   BC:  ADDIU     S2, S2, 1
        .oC0
   C0:  SH        S2, 2 (S4)
   C4:  BEQ       S1, R0, .oE8
   C8:  CLEAR     S2
   CC:  LW        V0, 0 (S1)
   D0:  BEQ       V0, R0, .oE8
   D4:  NOP
        .oD8
   D8:  ADDIU     S1, S1, C
   DC:  LW        V0, 0 (S1)
   E0:  BNE       V0, R0, .oD8
   E4:  ADDIU     S2, S2, 1
        .oE8
   E8:  LH        A0, 2 (S4)
   EC:  BLEZ      A0, .o108
   F0:  SH        S2, 4 (S4)
   F4:  JAL       ~Func:heap_malloc
   F8:  SLL       A0, A0, 4
   FC:  LAW       V1, 8007419C
  104:  SW        V0, 140 (V1)
        .o108
  108:  LW        S3, 18 (S4)
  10C:  LW        V0, 0 (S3)
  110:  LW        S5, 14 (S4)
  114:  BEQ       V0, R0, .o26C
  118:  CLEAR     S2
  11C:  LA        S8, 8007419C
  124:  LA        S7, $Script_80283F58
  12C:  LI        S6, 3
  130:  ADDIU     S1, S5, 2
        .o134
  134:  ADDIU     A1, SP, 28
  138:  ADDIU     A2, SP, 2C
  13C:  ADDIU     A3, SP, 30
  140:  LHU       A0, 0 (S5)
  144:  ADDIU     V0, SP, 34
  148:  SW        V0, 10 (SP)
  14C:  ADDIU     V0, SP, 38
  150:  SW        V0, 14 (SP)
  154:  ADDIU     V0, SP, 3C
  158:  JAL       ~Func:get_model_center_and_size
  15C:  SW        V0, 18 (SP)
  160:  SLL       S0, S2, 4
  164:  LWC1      F2, 2C (SP)
  168:  LW        V1, 0 (S8)
  16C:  LIF       F4, 6.0
  174:  LWC1      F0, 28 (SP)
  178:  LW        V0, 140 (V1)
  17C:  ADD.S     F2, F2, F4
  180:  ADDU      V0, S0, V0
  184:  SWC1      F0, 4 (V0)
  188:  LW        V0, 140 (V1)
  18C:  ADDU      V0, S0, V0
  190:  SWC1      F2, 8 (V0)
  194:  LW        V0, 140 (V1)
  198:  LWC1      F0, 30 (SP)
  19C:  ADDU      V0, S0, V0
  1A0:  SWC1      F0, C (V0)
  1A4:  LHU       A0, 0 (S5)
  1A8:  JAL       ~Func:get_model_list_index_from_tree_index
  1AC:  SWC1      F2, 2C (SP)
  1B0:  JAL       ~Func:get_model_from_list_index
  1B4:  COPY      A0, V0
  1B8:  LWC1      F0, 28 (SP)
  1BC:  LWC1      F2, 2C (SP)
  1C0:  LHU       V1, 0 (V0)
  1C4:  MFC1      A1, F0
  1C8:  MFC1      A2, F2
  1CC:  LWC1      F0, 30 (SP)
  1D0:  ORI       V1, V1, 4
  1D4:  SH        V1, 0 (V0)
  1D8:  LW        V1, 0 (S3)
  1DC:  LW        A0, 24 (S4)
  1E0:  LI        V0, 1
  1E4:  SW        V0, 10 (SP)
  1E8:  SW        R0, 14 (SP)
  1EC:  MFC1      A3, F0
  1F0:  JAL       ~Func:make_item_entity_nodelay
  1F4:  OR        A0, V1, A0
  1F8:  LW        A0, 0 (S8)
  1FC:  LW        V1, 140 (A0)
  200:  ADDIU     S5, S5, 4
  204:  ADDU      V1, S0, V1
  208:  SW        V0, 0 (V1)
  20C:  LW        V0, 140 (A0)
  210:  ADDIU     S3, S3, C
  214:  ADDU      S0, S0, V0
  218:  LW        A0, 0 (S0)
  21C:  JAL       ~Func:set_item_entity_flags
  220:  LI        A1, 4000
  224:  COPY      A0, S7
  228:  LI        A1, 80
  22C:  LHU       A2, 0 (S1)
  230:  COPY      A3, S2
  234:  SW        R0, 10 (SP)
  238:  JAL       802C42A8
  23C:  SW        S6, 14 (SP)
  240:  COPY      A0, S7
  244:  LI        A1, 800
  248:  COPY      A3, S2
  24C:  LHU       A2, 0 (S1)
  250:  ADDIU     S1, S1, 4
  254:  SW        R0, 10 (SP)
  258:  JAL       802C42A8
  25C:  SW        S6, 14 (SP)
  260:  LW        V0, 0 (S3)
  264:  BNE       V0, R0, .o134
  268:  ADDIU     S2, S2, 1
        .o26C
  26C:  LA        A0, 80080868
  274:  JAL       ~Func:create_hud_element
  278:  LI        S0, FFFF
  27C:  COPY      A0, V0
  280:  LI        A1, 80
  284:  JAL       ~Func:set_hud_element_flags
  288:  SW        A0, 20 (S4)
  28C:  LW        A0, 20 (S4)
  290:  JAL       ~Func:clear_hud_element_flags
  294:  ORI       A1, R0, 8000
  298:  LA        A1, $Function_draw_shop_items
  2A0:  JAL       ~Func:create_generic_entity_frontUI
  2A4:  CLEAR     A0
  2A8:  JAL       ~Func:get_generic_entity
  2AC:  COPY      A0, V0
  2B0:  LI        A0, A
  2B4:  LI        A1, 64
  2B8:  LI        A2, 42
  2BC:  LI        A3, 78
  2C0:  LI        V0, 1C
  2C4:  SW        V0, 10 (SP)
  2C8:  LA        V0, $Function_shop_draw_item_name
  2D0:  SW        R0, 14 (SP)
  2D4:  SW        V0, 18 (SP)
  2D8:  SW        R0, 1C (SP)
  2DC:  JAL       ~Func:set_window_properties
  2E0:  SW        S0, 20 (SP)
  2E4:  LI        A0, B
  2E8:  LI        A1, 20
  2EC:  LI        A2, B8
  2F0:  LI        A3, 100
  2F4:  COPY      V0, A1
  2F8:  SW        V0, 10 (SP)
  2FC:  LI        V0, 1
  300:  SW        V0, 14 (SP)
  304:  LA        V0, $Function_shop_draw_item_desc
  30C:  SW        V0, 18 (SP)
  310:  SW        R0, 1C (SP)
  314:  JAL       ~Func:set_window_properties
  318:  SW        S0, 20 (SP)
  31C:  LA        A0, 8014F150
  324:  LI        V1, 9
  328:  SW        V1, 28 (A0)
  32C:  LI        V1, 3
  330:  SW        V1, 2C (A0)
  334:  SW        R0, 8 (S4)
  338:  SW        R0, C (S4)
  33C:  SH        R0, 0 (S4)
  340:  SW        R0, 10 (S4)
  344:  LW        RA, 64 (SP)
  348:  LW        S8, 60 (SP)
  34C:  LW        S7, 5C (SP)
  350:  LW        S6, 58 (SP)
  354:  LW        S5, 54 (SP)
  358:  LW        S4, 50 (SP)
  35C:  LW        S3, 4C (SP)
  360:  LW        S2, 48 (SP)
  364:  LW        S1, 44 (SP)
  368:  LW        S0, 40 (SP)
  36C:  LI        V0, 2
  370:  JR        RA
  374:  ADDIU     SP, SP, 68
}

% 007E2A58 --> 80281BD8
#new:Function $Function_MakeShopOwner
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 14 (SP)
    8:  SW        S0, 10 (SP)
    C:  LW        V0, C (A0)
   10:  LAW       V1, 8007419C
   18:  LW        A1, 0 (V0)
   1C:  JAL       ~Func:get_variable
   20:  LW        S0, 144 (V1)
   24:  SW        V0, 10 (S0)
   28:  LW        RA, 14 (SP)
   2C:  LW        S0, 10 (SP)
   30:  LI        V0, 2
   34:  JR        RA
   38:  ADDIU     SP, SP, 18
}

PADDING: 80281C14 to 80281C20 (007E2A94 to 007E2AA0)
00000000 00000000 00000000

% 007E2AA0 --> 80281C20
#new:Function $Function_80281C20
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S1, 14 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 18 (SP)
   10:  SW        S0, 10 (SP)
   14:  LW        S0, C (S1)
   18:  LW        A1, 0 (S0)
   1C:  JAL       ~Func:get_variable
   20:  ADDIU     S0, S0, 4
   24:  COPY      A0, S1
   28:  LW        A1, 0 (S0)
   2C:  JAL       ~Func:get_variable
   30:  COPY      S0, V0
   34:  COPY      A0, S0
   38:  JAL       800EF414
   3C:  COPY      A1, V0
   40:  MTC1      R0, F12
   44:  JAL       ~Func:partner_set_tether_distance
   48:  NOP
   4C:  LW        RA, 18 (SP)
   50:  LW        S1, 14 (SP)
   54:  LW        S0, 10 (SP)
   58:  LI        V0, 2
   5C:  JR        RA
   60:  ADDIU     SP, SP, 20
}

% 007E2B04 --> 80281C84
#new:Function $Function_80281C84
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  JAL       800EF3E4
    C:  NOP
   10:  JAL       ~Func:partner_reset_tether_distance
   14:  NOP
   18:  LW        RA, 10 (SP)
   1C:  LI        V0, 2
   20:  JR        RA
   24:  ADDIU     SP, SP, 18
}

% 007E2B2C --> 80281CAC
#new:Function $Function_MakeDoorAdvanced
{
    0:  ADDIU     SP, SP, FFA8
    4:  SW        S1, 34 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 54 (SP)
   10:  SW        S8, 50 (SP)
   14:  SW        S7, 4C (SP)
   18:  SW        S6, 48 (SP)
   1C:  SW        S5, 44 (SP)
   20:  SW        S4, 40 (SP)
   24:  SW        S3, 3C (SP)
   28:  SW        S2, 38 (SP)
   2C:  SW        S0, 30 (SP)
   30:  LW        S0, C (S1)
   34:  JAL       ~Func:heap_malloc
   38:  LI        A0, 64
   3C:  COPY      A0, S1
   40:  COPY      S2, V0
   44:  SW        R0, 0 (S2)
   48:  LW        A1, 0 (S0)
   4C:  JAL       ~Func:get_variable
   50:  ADDIU     S0, S0, 4
   54:  COPY      S3, V0
   58:  ANDI      V0, S3, FFF
   5C:  SW        V0, 4 (S2)
   60:  ANDI      V0, S3, F000
   64:  SRA       V0, V0, C
   68:  SH        V0, 8 (S2)
   6C:  SH        R0, A (S2)
   70:  LW        A1, 0 (S0)
   74:  ADDIU     S0, S0, 4
   78:  JAL       ~Func:get_variable
   7C:  COPY      A0, S1
   80:  LW        A1, 0 (S0)
   84:  ADDIU     S0, S0, 4
   88:  COPY      A0, S1
   8C:  JAL       ~Func:get_variable
   90:  SW        V0, 2C (SP)
   94:  LW        A1, 0 (S0)
   98:  ADDIU     S0, S0, 4
   9C:  COPY      A0, S1
   A0:  JAL       ~Func:get_variable
   A4:  COPY      S8, V0
   A8:  LW        A1, 0 (S0)
   AC:  ADDIU     S0, S0, 4
   B0:  COPY      A0, S1
   B4:  JAL       ~Func:get_variable
   B8:  COPY      S5, V0
   BC:  LW        A1, 0 (S0)
   C0:  ADDIU     S0, S0, 4
   C4:  COPY      A0, S1
   C8:  JAL       ~Func:get_variable
   CC:  COPY      S7, V0
   D0:  COPY      S4, V0
   D4:  SW        S4, 60 (S2)
   D8:  LW        A1, 0 (S0)
   DC:  ADDIU     S0, S0, 4
   E0:  JAL       ~Func:get_variable
   E4:  COPY      A0, S1
   E8:  LW        A1, 0 (S0)
   EC:  ADDIU     S0, S0, 4
   F0:  COPY      A0, S1
   F4:  JAL       ~Func:get_variable
   F8:  COPY      S6, V0
   FC:  SW        V0, 3C (S2)
  100:  LW        A1, 0 (S0)
  104:  JAL       ~Func:get_variable
  108:  COPY      A0, S1
  10C:  BEQ       S5, R0, .o11C
  110:  SW        V0, 5C (S2)
  114:  ORI       S3, S3, 800
  118:  SW        S3, 4 (S2)
        .o11C
  11C:  COPY      A0, S4
  120:  ADDIU     A1, SP, 18
  124:  ADDIU     S0, SP, 1C
  128:  COPY      A2, S0
  12C:  JAL       ~Func:get_collider_center
  130:  ADDIU     A3, SP, 20
  134:  COPY      A0, S4
  138:  ADDIU     A1, SP, 24
  13C:  COPY      A2, S0
  140:  JAL       ~Func:get_flat_collider_normal
  144:  ADDIU     A3, SP, 28
  148:  ANDI      V1, S3, FF
  14C:  SLTIU     V0, V1, 8
  150:  BEQ       V0, R0, .o514
  154:  SLL       V0, V1, 2
  158:  LTW       V0, V0 ($JumpTable_80286500)
  164:  JR        V0
  168:  NOP
	% LBL: from $JumpTable_80286500 , entry 0`
  16C:  LWC1      F10, 24 (SP)
  170:  LIF       F2, 30.0
  178:  NOP
  17C:  MUL.S     F12, F10, F2
  180:  NOP
  184:  LWC1      F6, 28 (SP)
  188:  LIF       F0, 20.0
  190:  NOP
  194:  MUL.S     F4, F6, F0
  198:  NOP
  19C:  MUL.S     F6, F6, F2
  1A0:  NOP
  1A4:  MUL.S     F10, F10, F0
  1A8:  NOP
  1AC:  LWC1      F2, 18 (SP)
  1B0:  ADD.S     F8, F2, F12
  1B4:  SUB.S     F2, F2, F12
  1B8:  SUB.S     F8, F8, F4
  1BC:  LWC1      F0, 20 (SP)
  1C0:  ADD.S     F4, F0, F6
  1C4:  SUB.S     F0, F0, F6
  1C8:  SWC1      F2, 14 (S2)
  1CC:  BEQ       R0, R0, .o3B8
  1D0:  ADD.S     F4, F4, F10
	% LBL: from $JumpTable_80286500 , entry 5`
  1D4:  LWC1      F8, 24 (SP)
  1D8:  LIF       F4, 60.0
  1E0:  NOP
  1E4:  MUL.S     F12, F8, F4
  1E8:  NOP
  1EC:  LWC1      F6, 28 (SP)
  1F0:  LIF       F10, 20.0
  1F8:  NOP
  1FC:  MUL.S     F14, F6, F10
  200:  NOP
  204:  MUL.S     F4, F6, F4
  208:  NOP
  20C:  MUL.S     F10, F8, F10
  210:  NOP
  214:  LIF       F0, 30.0
  21C:  NOP
  220:  MUL.S     F8, F8, F0
  224:  NOP
  228:  MUL.S     F6, F6, F0
  22C:  NOP
  230:  LWC1      F2, 18 (SP)
  234:  ADD.S     F12, F2, F12
  238:  LWC1      F0, 20 (SP)
  23C:  ADD.S     F4, F0, F4
  240:  SUB.S     F2, F2, F8
  244:  SUB.S     F0, F0, F6
  248:  SUB.S     F12, F12, F14
  24C:  SWC1      F2, 14 (S2)
  250:  BEQ       R0, R0, .o448
  254:  ADD.S     F4, F4, F10
	% LBL: from $JumpTable_80286500 , entry 1`
  258:  LWC1      F8, 24 (SP)
  25C:  LIF       F6, 30.0
  264:  NOP
  268:  MUL.S     F10, F8, F6
  26C:  NOP
  270:  LWC1      F4, 28 (SP)
  274:  MUL.S     F6, F4, F6
  278:  NOP
  27C:  LIF       F0, 20.0
  284:  NOP
  288:  MUL.S     F4, F4, F0
  28C:  NOP
  290:  MUL.S     F8, F8, F0
  294:  NOP
  298:  LWC1      F2, 18 (SP)
  29C:  ADD.S     F12, F2, F10
  2A0:  SUB.S     F2, F2, F10
  2A4:  LWC1      F0, 20 (SP)
  2A8:  ADD.S     F10, F0, F6
  2AC:  SUB.S     F0, F0, F6
  2B0:  SUB.S     F2, F2, F4
  2B4:  SWC1      F12, C (S2)
  2B8:  SUB.S     F0, F0, F8
  2BC:  SWC1      F10, 10 (S2)
  2C0:  BEQ       R0, R0, .o510
  2C4:  SWC1      F2, 14 (S2)
	% LBL: from $JumpTable_80286500 , entry 6`
  2C8:  LWC1      F8, 24 (SP)
  2CC:  LIF       F6, 30.0
  2D4:  NOP
  2D8:  MUL.S     F10, F8, F6
  2DC:  NOP
  2E0:  LWC1      F4, 28 (SP)
  2E4:  MUL.S     F6, F4, F6
  2E8:  NOP
  2EC:  LIF       F2, 60.0
  2F4:  NOP
  2F8:  MUL.S     F12, F8, F2
  2FC:  NOP
  300:  LIF       F0, 20.0
  308:  NOP
  30C:  MUL.S     F14, F4, F0
  310:  NOP
  314:  MUL.S     F4, F4, F2
  318:  NOP
  31C:  MUL.S     F8, F8, F0
  320:  NOP
  324:  LWC1      F2, 18 (SP)
  328:  ADD.S     F10, F2, F10
  32C:  SUB.S     F2, F2, F12
  330:  LWC1      F0, 20 (SP)
  334:  ADD.S     F6, F0, F6
  338:  SUB.S     F0, F0, F4
  33C:  SUB.S     F2, F2, F14
  340:  SWC1      F10, C (S2)
  344:  SUB.S     F0, F0, F8
  348:  SWC1      F6, 10 (S2)
  34C:  BEQ       R0, R0, .o510
  350:  SWC1      F2, 14 (S2)
	% LBL: from $JumpTable_80286500 , entry 2`
  354:  LWC1      F10, 24 (SP)
  358:  LIF       F2, 30.0
  360:  NOP
  364:  MUL.S     F12, F10, F2
  368:  NOP
  36C:  LWC1      F6, 28 (SP)
  370:  LIF       F0, 20.0
  378:  NOP
  37C:  MUL.S     F4, F6, F0
  380:  NOP
  384:  MUL.S     F6, F6, F2
  388:  NOP
  38C:  MUL.S     F10, F10, F0
  390:  NOP
  394:  LWC1      F2, 18 (SP)
  398:  ADD.S     F8, F2, F12
  39C:  SUB.S     F2, F2, F12
  3A0:  ADD.S     F8, F8, F4
  3A4:  LWC1      F0, 20 (SP)
  3A8:  ADD.S     F4, F0, F6
  3AC:  SUB.S     F0, F0, F6
  3B0:  SWC1      F2, 14 (S2)
  3B4:  SUB.S     F4, F4, F10
        .o3B8
  3B8:  SWC1      F0, 18 (S2)
  3BC:  SWC1      F8, C (S2)
  3C0:  BEQ       R0, R0, .o514
  3C4:  SWC1      F4, 10 (S2)
	% LBL: from $JumpTable_80286500 , entry 7`
  3C8:  LWC1      F8, 24 (SP)
  3CC:  LIF       F4, 60.0
  3D4:  NOP
  3D8:  MUL.S     F12, F8, F4
  3DC:  NOP
  3E0:  LWC1      F6, 28 (SP)
  3E4:  LIF       F10, 20.0
  3EC:  NOP
  3F0:  MUL.S     F14, F6, F10
  3F4:  NOP
  3F8:  MUL.S     F4, F6, F4
  3FC:  NOP
  400:  MUL.S     F10, F8, F10
  404:  NOP
  408:  LIF       F0, 30.0
  410:  NOP
  414:  MUL.S     F8, F8, F0
  418:  NOP
  41C:  MUL.S     F6, F6, F0
  420:  NOP
  424:  LWC1      F2, 18 (SP)
  428:  ADD.S     F12, F2, F12
  42C:  LWC1      F0, 20 (SP)
  430:  ADD.S     F4, F0, F4
  434:  SUB.S     F2, F2, F8
  438:  SUB.S     F0, F0, F6
  43C:  ADD.S     F12, F12, F14
  440:  SWC1      F2, 14 (S2)
  444:  SUB.S     F4, F4, F10
        .o448
  448:  SWC1      F0, 18 (S2)
  44C:  SWC1      F12, C (S2)
  450:  BEQ       R0, R0, .o514
  454:  SWC1      F4, 10 (S2)
	% LBL: from $JumpTable_80286500 , entry 3`
  458:  LWC1      F8, 24 (SP)
  45C:  LIF       F6, 30.0
  464:  NOP
  468:  MUL.S     F10, F8, F6
  46C:  NOP
  470:  LWC1      F4, 28 (SP)
  474:  MUL.S     F6, F4, F6
  478:  NOP
  47C:  LIF       F0, 20.0
  484:  NOP
  488:  MUL.S     F4, F4, F0
  48C:  NOP
  490:  MUL.S     F8, F8, F0
  494:  NOP
  498:  LWC1      F2, 18 (SP)
  49C:  ADD.S     F12, F2, F10
  4A0:  SUB.S     F2, F2, F10
  4A4:  LWC1      F0, 20 (SP)
  4A8:  ADD.S     F10, F0, F6
  4AC:  SUB.S     F0, F0, F6
  4B0:  ADD.S     F2, F2, F4
  4B4:  SWC1      F12, C (S2)
  4B8:  ADD.S     F0, F0, F8
  4BC:  SWC1      F10, 10 (S2)
  4C0:  BEQ       R0, R0, .o510
  4C4:  SWC1      F2, 14 (S2)
	% LBL: from $JumpTable_80286500 , entry 4`
  4C8:  LWC1      F6, 24 (SP)
  4CC:  LIF       F0, 30.0
  4D4:  NOP
  4D8:  MUL.S     F6, F6, F0
  4DC:  NOP
  4E0:  LWC1      F2, 28 (SP)
  4E4:  MUL.S     F2, F2, F0
  4E8:  NOP
  4EC:  LWC1      F4, 18 (SP)
  4F0:  ADD.S     F8, F4, F6
  4F4:  LWC1      F0, 20 (SP)
  4F8:  ADD.S     F10, F0, F2
  4FC:  SUB.S     F4, F4, F6
  500:  SUB.S     F0, F0, F2
  504:  SWC1      F8, C (S2)
  508:  SWC1      F10, 10 (S2)
  50C:  SWC1      F4, 14 (S2)
        .o510
  510:  SWC1      F0, 18 (S2)
        .o514
  514:  LA        A0, $Script_AdvancedDoorOpen
  51C:  LA        V0, 800B1D80
  524:  LWC1      F0, 14 (S2)
  528:  LWC1      F2, 18 (S2)
  52C:  LWC1      F4, C (S2)
  530:  LWC1      F6, 10 (S2)
  534:  LW        T0, 2C (SP)
  538:  LI        A1, 100
  53C:  SW        T0, 2C (S2)
  540:  SW        S8, 30 (S2)
  544:  SW        S5, 34 (S2)
  548:  SW        S7, 38 (S2)
  54C:  SWC1      F0, 1C (S2)
  550:  SWC1      F2, 20 (S2)
  554:  SWC1      F4, 24 (S2)
  558:  SWC1      F6, 28 (S2)
  55C:  LH        V1, 2C (V0)
  560:  COPY      A2, S4
  564:  SW        V1, 40 (S2)
  568:  LH        V1, 2E (V0)
  56C:  CLEAR     A3
  570:  SW        V1, 44 (S2)
  574:  LH        V0, 30 (V0)
  578:  LI        S0, 3
  57C:  SW        V0, 48 (S2)
  580:  SW        S2, 10 (SP)
  584:  JAL       802C42A8
  588:  SW        S0, 14 (SP)
  58C:  ANDI      V0, S3, 800
  590:  BEQ       V0, R0, .o5A8
  594:  LI        A1, 40
  598:  LA        A0, $Script_AdvancedDoorClose
  5A0:  BEQ       R0, R0, .o5B8
  5A4:  COPY      A2, S6
        .o5A8
  5A8:  LA        A0, $Script_AdvancedDoorClose
  5B0:  LI        A1, 100
  5B4:  COPY      A2, S6
        .o5B8
  5B8:  LI        A3, 1
  5BC:  SW        S2, 10 (SP)
  5C0:  JAL       802C42A8
  5C4:  SW        S0, 14 (SP)
  5C8:  LW        RA, 54 (SP)
  5CC:  LW        S8, 50 (SP)
  5D0:  LW        S7, 4C (SP)
  5D4:  LW        S6, 48 (SP)
  5D8:  LW        S5, 44 (SP)
  5DC:  LW        S4, 40 (SP)
  5E0:  LW        S3, 3C (SP)
  5E4:  LW        S2, 38 (SP)
  5E8:  LW        S1, 34 (SP)
  5EC:  LW        S0, 30 (SP)
  5F0:  LI        V0, 2
  5F4:  JR        RA
  5F8:  ADDIU     SP, SP, 58
}

% 007E3128 --> 802822A8
#new:Function $Function_802822A8
{
    0:  ADDIU     SP, SP, FFD0
    4:  SW        RA, 2C (SP)
    8:  SW        S0, 28 (SP)
    C:  LW        V0, C (A0)
   10:  LW        A1, 0 (V0)
   14:  JAL       ~Func:get_variable
   18:  LW        S0, 74 (A0)
   1C:  ADDIU     A1, SP, 18
   20:  ADDIU     A2, SP, 1C
   24:  ADDIU     A3, SP, 20
   28:  LW        A0, 60 (S0)
   2C:  JAL       ~Func:get_collider_center
   30:  COPY      S0, V0
   34:  COPY      A0, S0
   38:  LWC1      F0, 18 (SP)
   3C:  LWC1      F2, 1C (SP)
   40:  MFC1      A2, F0
   44:  MFC1      A3, F2
   48:  LWC1      F0, 20 (SP)
   4C:  CLEAR     A1
   50:  JAL       ~Func:sfx_play_sound_at_position
   54:  SWC1      F0, 10 (SP)
   58:  LW        RA, 2C (SP)
   5C:  LW        S0, 28 (SP)
   60:  LI        V0, 2
   64:  JR        RA
   68:  ADDIU     SP, SP, 30
}

% 007E3194 --> 80282314
#new:Function $Function_80282314
{
    0:  LW        V0, 88 (A0)
    4:  SW        V0, 74 (A0)
    8:  JR        RA
    C:  LI        V0, 2
}

% 007E31A4 --> 80282324
#new:Function $Function_80282324
{
    0:  LW        V0, 74 (A0)
    4:  LW        V0, 0 (V0)
    8:  SW        V0, 84 (A0)
    C:  JR        RA
   10:  LI        V0, 2
}

% 007E31B8 --> 80282338
#new:Function $Function_80282338
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 14 (SP)
    8:  SW        S0, 10 (SP)
    C:  LW        V0, C (A0)
   10:  LW        A1, 0 (V0)
   14:  JAL       ~Func:get_variable
   18:  LW        S0, 74 (A0)
   1C:  SW        V0, 0 (S0)
   20:  LW        RA, 14 (SP)
   24:  LW        S0, 10 (SP)
   28:  LI        V0, 2
   2C:  JR        RA
   30:  ADDIU     SP, SP, 18
}

% 007E31EC --> 8028236C
#new:Function $Function_8028236C
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 14 (SP)
    8:  SW        S0, 10 (SP)
    C:  LW        V0, C (A0)
   10:  LW        A1, 0 (V0)
   14:  JAL       ~Func:get_variable
   18:  LW        S0, 74 (A0)
   1C:  SLL       V0, V0, 2
   20:  ADDU      S0, S0, V0
   24:  JAL       ~Func:does_script_exist
   28:  LW        A0, 4C (S0)
   2C:  SLTIU     V0, V0, 1
   30:  LW        RA, 14 (SP)
   34:  LW        S0, 10 (SP)
   38:  SLL       V0, V0, 1
   3C:  JR        RA
   40:  ADDIU     SP, SP, 18
}

% 007E3230 --> 802823B0
#new:Function $Function_802823B0
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S0, 10 (SP)
    8:  COPY      S0, A0
    C:  SW        RA, 1C (SP)
   10:  SW        S2, 18 (SP)
   14:  SW        S1, 14 (SP)
   18:  LW        S1, C (S0)
   1C:  LW        S2, 74 (S0)
   20:  LW        A1, 0 (S1)
   24:  JAL       ~Func:get_variable
   28:  ADDIU     S1, S1, 4
   2C:  COPY      A0, S0
   30:  LW        A1, 0 (S1)
   34:  JAL       ~Func:get_variable
   38:  COPY      S0, V0
   3C:  SLL       S0, S0, 2
   40:  ADDU      S2, S2, S0
   44:  SW        V0, 4C (S2)
   48:  LW        RA, 1C (SP)
   4C:  LW        S2, 18 (SP)
   50:  LW        S1, 14 (SP)
   54:  LW        S0, 10 (SP)
   58:  LI        V0, 2
   5C:  JR        RA
   60:  ADDIU     SP, SP, 20
}

% 007E3294 --> 80282414
#new:Function $Function_80282414
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S1, 14 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 1C (SP)
   10:  SW        S2, 18 (SP)
   14:  SW        S0, 10 (SP)
   18:  BEQ       A1, R0, .o44
   1C:  LW        S2, 88 (S1)
   20:  LW        V0, 84 (S1)
   24:  BNEL      V0, R0, .o44
   28:  SW        R0, 74 (S1)
   2C:  LHU       A0, C2 (S1)
   30:  LI        A1, FFFF
   34:  LI        A2, 1
   38:  JAL       8011B950
   3C:  COPY      A3, A2
   40:  SW        R0, 74 (S1)
        .o44
   44:  LW        V0, 74 (S1)
   48:  ADDIU     V0, V0, 20
   4C:  SW        V0, 74 (S1)
   50:  SLTI      V0, V0, 100
   54:  BNE       V0, R0, .o60
   58:  LI        V0, FF
   5C:  SW        V0, 74 (S1)
        .o60
   60:  LW        V0, 84 (S1)
   64:  BNE       V0, R0, .o78
   68:  LI        V0, FF
   6C:  LW        S0, 74 (S1)
   70:  BEQ       R0, R0, .o84
   74:  CLEAR     A0
        .o78
   78:  LW        V1, 74 (S1)
   7C:  SUBU      S0, V0, V1
   80:  CLEAR     A0
        .o84
   84:  COPY      A1, A0
   88:  COPY      A2, A0
   8C:  JAL       ~Func:set_background_color_blend
   90:  ANDI      A3, S0, FF
   94:  LI        A2, FF
   98:  LW        V0, 40 (S2)
   9C:  SUBU      A2, A2, S0
   A0:  MULT      V0, A2
   A4:  MFLO      V0
   A8:  LW        A1, 44 (S2)
   AC:  NOP
   B0:  MULT      A1, A2
   B4:  MFLO      A1
   B8:  LI        A3, 80808081
   C0:  MULT      V0, A3
   C4:  MFHI      V1
   C8:  NOP
   CC:  NOP
   D0:  MULT      A1, A3
   D4:  MFHI      T0
   D8:  LW        A0, 48 (S2)
   DC:  ADDU      V1, V1, V0
   E0:  MULT      A0, A2
   E4:  SRA       V1, V1, 7
   E8:  SRA       V0, V0, 1F
   EC:  SUBU      V1, V1, V0
   F0:  LA        A2, 800B1D80
   F8:  MFLO      A0
   FC:  ADDU      V0, T0, A1
  100:  SRA       V0, V0, 7
  104:  MULT      A0, A3
  108:  SRA       A1, A1, 1F
  10C:  SUBU      V0, V0, A1
  110:  SH        V1, 2C (A2)
  114:  SH        V0, 2E (A2)
  118:  MFHI      V1
  11C:  ADDU      V0, V1, A0
  120:  SRA       V0, V0, 7
  124:  SRA       A0, A0, 1F
  128:  SUBU      V0, V0, A0
  12C:  SH        V0, 30 (A2)
  130:  LW        V0, 74 (S1)
  134:  SLTI      V0, V0, FF
  138:  BNE       V0, R0, .o168
  13C:  CLEAR     V0
  140:  LW        V1, 84 (S1)
  144:  LI        V0, 3
  148:  BNE       V1, V0, .o168
  14C:  LI        V0, 2
  150:  LHU       A0, C2 (S1)
  154:  LI        A1, FFFF
  158:  CLEAR     A2
  15C:  JAL       8011B950
  160:  LI        A3, 1
  164:  LI        V0, 2
        .o168
  168:  LW        RA, 1C (SP)
  16C:  LW        S2, 18 (SP)
  170:  LW        S1, 14 (SP)
  174:  LW        S0, 10 (SP)
  178:  JR        RA
  17C:  ADDIU     SP, SP, 20
}

% 007E3414 --> 80282594
#new:Function $Function_80282594
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  LW        V0, C (A0)
    C:  JAL       ~Func:get_float_variable
   10:  LW        A1, 0 (V0)
   14:  MOV.S     F2, F0
   18:  LA        V0, 800B1D80
   20:  MTC1      R0, F0
   24:  NOP
   28:  C.LE.S    F0, F2
   2C:  NOP
   30:  BC1F      .o4C
   34:  COPY      V1, V0
   38:  LWC1      F0, 490 (V0)
   3C:  SWC1      F2, 490 (V0)
   40:  SAF       F0, 80286540
   44:  BEQ       R0, R0, .o58
   48:  RESERVED
        .o4C
   4C:  LAF       F0, 80286540
   54:  SWC1      F0, 490 (V1)
        .o58
   58:  LW        RA, 10 (SP)
   5C:  LI        V0, 2
   60:  JR        RA
   64:  ADDIU     SP, SP, 18
}

% 007E347C --> 802825FC
#new:Function $Function_SetEntityHideMode1
{
    0:  LI        V0, 1
    4:  SAW       V0, 80151310
    C:  JR        RA
   10:  LI        V0, 2
}

% 007E3490 --> 80282610
#new:Function $Function_SetEntityHideMode2
{
    0:  LI        V0, 2
    4:  SAW       V0, 80151310
    C:  JR        RA
   10:  NOP
}

% 007E34A4 --> 80282624
#new:Function $Function_SetEntityHideMode0
{
    0:  SAW       R0, 80151310
    8:  JR        RA
    C:  LI        V0, 2
}

% 007E34B4 --> 80282634
#new:Function $Function_80282634
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        RA, 20 (SP)
    8:  SW        S3, 1C (SP)
    C:  SW        S2, 18 (SP)
   10:  SW        S1, 14 (SP)
   14:  SW        S0, 10 (SP)
   18:  LW        V0, 74 (A0)
   1C:  LW        S1, 5C (V0)
   20:  BEQ       S1, R0, .oAC
   24:  CLEAR     S0
   28:  LI        S3, FFFC
   2C:  LUI       S2, 80
        .o30
   30:  JAL       ~Func:get_npc_by_index
   34:  COPY      A0, S0
   38:  COPY      V1, V0
   3C:  BEQL      V1, R0, .o64
   40:  ADDIU     S0, S0, 1
   44:  LW        A0, 0 (V1)
   48:  BEQ       A0, R0, .o64
   4C:  ADDIU     S0, S0, 1
   50:  LB        V0, A4 (V1)
   54:  BEQ       V0, S3, .o64
   58:  NOP
   5C:  OR        V0, A0, S2
   60:  SW        V0, 0 (V1)
        .o64
   64:  SLTI      V0, S0, 40
   68:  BNE       V0, R0, .o30
   6C:  NOP
   70:  LI        S2, FFFF
   74:  LI        S0, FF7FFFFF
        .o7C
   7C:  LW        A0, 0 (S1)
   80:  BEQ       A0, S2, .oB0
   84:  LI        V0, 2
   88:  JAL       ~Func:get_npc_safe
   8C:  ADDIU     S1, S1, 4
   90:  COPY      V1, V0
   94:  BEQ       V1, R0, .o7C
   98:  NOP
   9C:  LW        V0, 0 (V1)
   A0:  AND       V0, V0, S0
   A4:  BEQ       R0, R0, .o7C
   A8:  SW        V0, 0 (V1)
        .oAC
   AC:  LI        V0, 2
        .oB0
   B0:  LW        RA, 20 (SP)
   B4:  LW        S3, 1C (SP)
   B8:  LW        S2, 18 (SP)
   BC:  LW        S1, 14 (SP)
   C0:  LW        S0, 10 (SP)
   C4:  JR        RA
   C8:  ADDIU     SP, SP, 28
}

% 007E3580 --> 80282700
#new:Function $Function_80282700
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        RA, 18 (SP)
    8:  SW        S1, 14 (SP)
    C:  SW        S0, 10 (SP)
   10:  LW        V0, 74 (A0)
   14:  LW        V0, 5C (V0)
   18:  BEQ       V0, R0, .o5C
   1C:  CLEAR     S0
   20:  LI        S1, FF7FFFFF
        .o28
   28:  JAL       ~Func:get_npc_by_index
   2C:  COPY      A0, S0
   30:  COPY      V1, V0
   34:  BEQ       V1, R0, .o50
   38:  ADDIU     S0, S0, 1
   3C:  LW        V0, 0 (V1)
   40:  BEQ       V0, R0, .o50
   44:  NOP
   48:  AND       V0, V0, S1
   4C:  SW        V0, 0 (V1)
        .o50
   50:  SLTI      V0, S0, 40
   54:  BNE       V0, R0, .o28
   58:  NOP
        .o5C
   5C:  LI        V0, 2
   60:  LW        RA, 18 (SP)
   64:  LW        S1, 14 (SP)
   68:  LW        S0, 10 (SP)
   6C:  JR        RA
   70:  ADDIU     SP, SP, 20
}

% 007E35F4 --> 80282774
#new:Function $Function_80282774
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 14 (SP)
    8:  SW        S0, 10 (SP)
    C:  JAL       80134240
   10:  LW        S0, 74 (A0)
   14:  LH        A0, 8 (S0)
   18:  JAL       80134230
   1C:  SH        V0, A (S0)
   20:  LW        RA, 14 (SP)
   24:  LW        S0, 10 (SP)
   28:  LI        V0, 2
   2C:  JR        RA
   30:  ADDIU     SP, SP, 18
}

% 007E3628 --> 802827A8
#new:Function $Function_802827A8
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  LW        V0, 74 (A0)
    C:  JAL       80134230
   10:  LH        A0, A (V0)
   14:  LW        RA, 10 (SP)
   18:  LI        V0, 2
   1C:  JR        RA
   20:  ADDIU     SP, SP, 18
}

% 007E364C --> 802827CC
#new:Function $Function_802827CC
{
    0:  LW        V1, 74 (A0)
    4:  LW        V0, 4 (V1)
    8:  SW        V0, 8C (A0)
    C:  LWC1      F0, C (V1)
   10:  TRUNC.W.S F2, F0
   14:  SWC1      F2, 90 (A0)
   18:  LWC1      F0, 10 (V1)
   1C:  TRUNC.W.S F2, F0
   20:  SWC1      F2, 94 (A0)
   24:  LWC1      F0, 14 (V1)
   28:  TRUNC.W.S F2, F0
   2C:  SWC1      F2, 98 (A0)
   30:  LWC1      F0, 18 (V1)
   34:  TRUNC.W.S F2, F0
   38:  SWC1      F2, 9C (A0)
   3C:  LWC1      F0, 1C (V1)
   40:  TRUNC.W.S F2, F0
   44:  SWC1      F2, A0 (A0)
   48:  LWC1      F0, 20 (V1)
   4C:  TRUNC.W.S F2, F0
   50:  SWC1      F2, A4 (A0)
   54:  LWC1      F0, 24 (V1)
   58:  TRUNC.W.S F2, F0
   5C:  SWC1      F2, A8 (A0)
   60:  LWC1      F0, 28 (V1)
   64:  TRUNC.W.S F2, F0
   68:  SWC1      F2, AC (A0)
   6C:  LW        V0, 2C (V1)
   70:  SW        V0, B0 (A0)
   74:  LW        V0, 30 (V1)
   78:  SW        V0, B4 (A0)
   7C:  LW        V0, 34 (V1)
   80:  SW        V0, B8 (A0)
   84:  LW        V0, 38 (V1)
   88:  SW        V0, BC (A0)
   8C:  LW        V0, 3C (V1)
   90:  SW        V0, C0 (A0)
   94:  JR        RA
   98:  LI        V0, 2
}

% 007E36E8 --> 80282868
#new:Function $Function_80282868
{
    0:  LW        V0, 74 (A0)
    4:  SW        V0, 88 (A0)
    8:  JR        RA
    C:  LI        V0, 2
}

PADDING: 80282878 to 80282880 (007E36F8 to 007E3700)
00000000 00000000

% Origin: HEURISTIC
% 007E3700 --> 80282880
#new:Function $Function_80282880
{
    0:  LA        V0, 8010EFC8
    8:  LWC1      F2, 28 (V0)
    C:  LWC1      F0, 84 (A0)
   10:  CVT.S.W   F0, F0
   14:  SUB.S     F0, F0, F2
   18:  LIF       F4, 0.5
   20:  NOP
   24:  MUL.S     F0, F0, F4
   28:  NOP
   2C:  ADD.S     F2, F2, F0
   30:  SWC1      F2, 28 (V0)
   34:  LWC1      F2, 30 (V0)
   38:  LWC1      F0, 8C (A0)
   3C:  CVT.S.W   F0, F0
   40:  SUB.S     F0, F0, F2
   44:  MUL.S     F0, F0, F4
   48:  NOP
   4C:  ADD.S     F2, F2, F0
   50:  SWC1      F2, 30 (V0)
   54:  JR        RA
   58:  LI        V0, 2
}

% Origin: HEURISTIC
% 007E375C --> 802828DC
#new:Function $Function_802828DC
{
    0:  ADDIU     SP, SP, FFC0
    4:  SW        S2, 18 (SP)
    8:  COPY      S2, A0
    C:  SW        RA, 20 (SP)
   10:  SW        S3, 1C (SP)
   14:  SW        S1, 14 (SP)
   18:  SW        S0, 10 (SP)
   1C:  SDC1      F24, 38 (SP)
   20:  SDC1      F22, 30 (SP)
   24:  SDC1      F20, 28 (SP)
   28:  LW        A0, B0 (S2)
   2C:  JAL       ~Func:get_entity_by_index
   30:  COPY      S0, A1
   34:  LA        S3, 8010EFC8
   3C:  BEQ       S0, R0, .oA8
   40:  COPY      S1, V0
   44:  SW        R0, 70 (S2)
   48:  LWC1      F0, 28 (S3)
   4C:  TRUNC.W.S F6, F0
   50:  SWC1      F6, 84 (S2)
   54:  LWC1      F0, 2C (S3)
   58:  TRUNC.W.S F6, F0
   5C:  SWC1      F6, 88 (S2)
   60:  LWC1      F0, 30 (S3)
   64:  TRUNC.W.S F6, F0
   68:  SWC1      F6, 8C (S2)
   6C:  LWC1      F0, 48 (S1)
   70:  TRUNC.W.S F6, F0
   74:  SWC1      F6, 90 (S2)
   78:  LWC1      F0, 4C (S1)
   7C:  TRUNC.W.S F6, F0
   80:  SWC1      F6, 94 (S2)
   84:  LWC1      F0, 50 (S1)
   88:  TRUNC.W.S F6, F0
   8C:  SWC1      F6, 98 (S2)
   90:  LWC1      F0, 60 (S1)
   94:  TRUNC.W.S F6, F0
   98:  SWC1      F6, A8 (S2)
   9C:  LWC1      F0, 68 (S1)
   A0:  TRUNC.W.S F6, F0
   A4:  SWC1      F6, B4 (S2)
        .oA8
   A8:  LW        V0, 70 (S2)
   AC:  SLL       V0, V0, 2
   B0:  LTF       F4, V0 ($FloatTable_80285640)
   BC:  LWC1      F2, 9C (S2)
   C0:  CVT.S.W   F2, F2
   C4:  MUL.S     F2, F2, F4
   C8:  NOP
   CC:  LIF       F24, 25.0
   D4:  NOP
   D8:  MUL.S     F2, F2, F24
   DC:  NOP
   E0:  LWC1      F0, 84 (S2)
   E4:  CVT.S.W   F0, F0
   E8:  ADD.S     F0, F0, F2
   EC:  SWC1      F0, 28 (S3)
   F0:  LWC1      F2, A0 (S2)
   F4:  CVT.S.W   F2, F2
   F8:  MUL.S     F2, F2, F4
   FC:  NOP
  100:  MUL.S     F2, F2, F24
  104:  NOP
  108:  LWC1      F0, 88 (S2)
  10C:  CVT.S.W   F0, F0
  110:  ADD.S     F0, F0, F2
  114:  SWC1      F0, 2C (S3)
  118:  LWC1      F2, A4 (S2)
  11C:  CVT.S.W   F2, F2
  120:  MUL.S     F2, F2, F4
  124:  NOP
  128:  MUL.S     F2, F2, F24
  12C:  NOP
  130:  LWC1      F0, 8C (S2)
  134:  CVT.S.W   F0, F0
  138:  ADD.S     F0, F0, F2
  13C:  SWC1      F0, 30 (S3)
  140:  LWC1      F2, 9C (S2)
  144:  CVT.S.W   F2, F2
  148:  MUL.S     F2, F2, F4
  14C:  NOP
  150:  MUL.S     F2, F2, F24
  154:  NOP
  158:  LWC1      F0, 90 (S2)
  15C:  CVT.S.W   F0, F0
  160:  ADD.S     F0, F0, F2
  164:  SWC1      F0, 48 (S1)
  168:  LWC1      F2, A0 (S2)
  16C:  CVT.S.W   F2, F2
  170:  MUL.S     F2, F2, F4
  174:  NOP
  178:  MUL.S     F2, F2, F24
  17C:  NOP
  180:  LWC1      F0, 94 (S2)
  184:  CVT.S.W   F0, F0
  188:  ADD.S     F0, F0, F2
  18C:  SWC1      F0, 4C (S1)
  190:  LWC1      F2, A4 (S2)
  194:  CVT.S.W   F2, F2
  198:  MUL.S     F2, F2, F4
  19C:  NOP
  1A0:  MUL.S     F2, F2, F24
  1A4:  NOP
  1A8:  LWC1      F0, 98 (S2)
  1AC:  CVT.S.W   F0, F0
  1B0:  ADD.S     F0, F0, F2
  1B4:  SWC1      F0, 50 (S1)
  1B8:  LW        V0, 70 (S2)
  1BC:  SLTI      V0, V0, C
  1C0:  BEQ       V0, R0, .o2F8
  1C4:  NOP
  1C8:  LWC1      F2, 9C (S2)
  1CC:  CVT.S.W   F2, F2
  1D0:  MUL.S     F2, F2, F4
  1D4:  NOP
  1D8:  LIF       F0, -90.0
  1E0:  NOP
  1E4:  MUL.S     F2, F2, F0
  1E8:  NOP
  1EC:  LWC1      F0, B4 (S2)
  1F0:  CVT.S.W   F0, F0
  1F4:  ADD.S     F0, F0, F2
  1F8:  SWC1      F0, 68 (S1)
  1FC:  LWC1      F2, A4 (S2)
  200:  CVT.S.W   F2, F2
  204:  MUL.S     F2, F2, F4
  208:  NOP
  20C:  LIF       F22, 90.0
  214:  NOP
  218:  MUL.S     F2, F2, F22
  21C:  NOP
  220:  MUL.S     F22, F4, F22
  224:  NOP
  228:  LWC1      F0, A8 (S2)
  22C:  CVT.S.W   F0, F0
  230:  ADD.S     F0, F0, F2
  234:  MOV.S     F12, F22
  238:  JAL       ~Func:sin_deg
  23C:  SWC1      F0, 60 (S1)
  240:  MUL.S     F0, F0, F24
  244:  NOP
  248:  LIF       F21, 1.75
  250:  MTC1      R0, F20
  254:  CVT.D.S   F0, F0
  258:  MUL.D     F0, F0, F20
  25C:  NOP
  260:  LWC1      F2, 4C (S1)
  264:  CVT.D.S   F2, F2
  268:  ADD.D     F2, F2, F0
  26C:  MOV.S     F12, F22
  270:  CVT.S.D   F2, F2
  274:  JAL       ~Func:sin_deg
  278:  SWC1      F2, 4C (S1)
  27C:  LWC1      F2, 9C (S2)
  280:  CVT.S.W   F2, F2
  284:  MUL.S     F2, F2, F0
  288:  NOP
  28C:  MUL.S     F2, F2, F24
  290:  NOP
  294:  CVT.D.S   F2, F2
  298:  MUL.D     F2, F2, F20
  29C:  NOP
  2A0:  LWC1      F0, 48 (S1)
  2A4:  CVT.D.S   F0, F0
  2A8:  SUB.D     F0, F0, F2
  2AC:  MOV.S     F12, F22
  2B0:  CVT.S.D   F0, F0
  2B4:  JAL       ~Func:sin_deg
  2B8:  SWC1      F0, 48 (S1)
  2BC:  LWC1      F2, A4 (S2)
  2C0:  CVT.S.W   F2, F2
  2C4:  MUL.S     F2, F2, F0
  2C8:  NOP
  2CC:  MUL.S     F2, F2, F24
  2D0:  NOP
  2D4:  CVT.D.S   F2, F2
  2D8:  MUL.D     F2, F2, F20
  2DC:  NOP
  2E0:  LWC1      F0, 50 (S1)
  2E4:  CVT.D.S   F0, F0
  2E8:  SUB.D     F0, F0, F2
  2EC:  CVT.S.D   F0, F0
  2F0:  BEQ       R0, R0, .o308
  2F4:  SWC1      F0, 50 (S1)
        .o2F8
  2F8:  MTC1      R0, F0
  2FC:  NOP
  300:  SWC1      F0, 60 (S1)
  304:  SWC1      F0, 68 (S1)
        .o308
  308:  LWC1      F0, 28 (S3)
  30C:  LWC1      F2, 2C (S3)
  310:  LWC1      F4, 30 (S3)
  314:  LA        V0, 800B1D80
  31C:  SWC1      F0, 60 (V0)
  320:  SWC1      F2, 64 (V0)
  324:  SWC1      F4, 68 (V0)
  328:  LW        V1, 70 (S2)
  32C:  ADDIU     V1, V1, 1
  330:  XORI      V0, V1, D
  334:  SW        V1, 70 (S2)
  338:  LW        RA, 20 (SP)
  33C:  LW        S3, 1C (SP)
  340:  LW        S2, 18 (SP)
  344:  LW        S1, 14 (SP)
  348:  LW        S0, 10 (SP)
  34C:  LDC1      F24, 38 (SP)
  350:  LDC1      F22, 30 (SP)
  354:  LDC1      F20, 28 (SP)
  358:  SLTIU     V0, V0, 1
  35C:  JR        RA
  360:  ADDIU     SP, SP, 40
}

% Origin: HEURISTIC
% 007E3AC0 --> 80282C40
#new:Function $Function_80282C40
{
    0:  ADDIU     SP, SP, FFC0
    4:  SW        S3, 34 (SP)
    8:  COPY      S3, A0
    C:  SW        S0, 28 (SP)
   10:  SW        RA, 38 (SP)
   14:  SW        S2, 30 (SP)
   18:  SW        S1, 2C (SP)
   1C:  LW        A0, B0 (S3)
   20:  LW        S2, AC (S3)
   24:  JAL       ~Func:get_entity_by_index
   28:  COPY      S0, A1
   2C:  BEQ       S0, R0, .oBC
   30:  COPY      S1, V0
   34:  CLEAR     A0
   38:  ADDIU     A1, SP, 18
   3C:  ADDIU     V0, SP, 24
   40:  ADDIU     A2, SP, 1C
   44:  ADDIU     A3, SP, 20
   48:  SW        R0, 70 (S3)
   4C:  LWC1      F0, 4C (S1)
   50:  LIF       F2, 35.0
   58:  TRUNC.W.S F8, F0
   5C:  SWC1      F8, 84 (S3)
   60:  SWC1      F2, 24 (SP)
   64:  LWC1      F6, 48 (S1)
   68:  LWC1      F0, 4C (S1)
   6C:  LIF       F2, 5.0
   74:  LWC1      F4, 50 (S1)
   78:  ADD.S     F0, F0, F2
   7C:  SWC1      F6, 18 (SP)
   80:  SWC1      F4, 20 (SP)
   84:  SWC1      F0, 1C (SP)
   88:  JAL       ~Func:npc_raycast_down_sides
   8C:  SW        V0, 10 (SP)
   90:  LWC1      F2, 24 (SP)
   94:  TRUNC.W.S F8, F2
   98:  BEQ       V0, R0, .oBC
   9C:  SWC1      F8, 74 (S3)
   A0:  LIF       F0, 6.0
   A8:  NOP
   AC:  C.LE.S    F2, F0
   B0:  NOP
   B4:  BC1T      .o1D4
   B8:  LI        V0, 2
        .oBC
   BC:  LW        V0, 14 (S2)
   C0:  BEQ       V0, R0, .o128
   C4:  COPY      A0, S1
   C8:  JALR      V0, RA
   CC:  COPY      A1, S3
   D0:  BEQ       V0, R0, .o1D4
   D4:  CLEAR     V0
   D8:  LWC1      F6, 8 (S2)
   DC:  CVT.S.W   F6, F6
   E0:  LWC1      F0, 10 (S2)
   E4:  CVT.S.W   F0, F0
   E8:  LWC1      F2, 50 (S1)
   EC:  LIF       F4, 25.0
   F4:  SUB.S     F2, F2, F0
   F8:  LWC1      F0, 48 (S1)
   FC:  LBU       V0, 4 (S2)
  100:  SUB.S     F0, F0, F6
  104:  DIV.S     F2, F2, F4
  108:  TRUNC.W.S F8, F2
  10C:  MFC1      V1, F8
  110:  NOP
  114:  MULT      V1, V0
  118:  LI        V0, 1
  11C:  LW        V1, 0 (S2)
  120:  BEQ       R0, R0, .o1B4
  124:  DIV.S     F0, F0, F4
        .o128
  128:  LW        V0, 70 (S3)
  12C:  LIF       F6, 25.0
  134:  SLL       V0, V0, 2
  138:  LTF       F2, V0 ($FloatTable_80285640)
  144:  MUL.S     F2, F2, F6
  148:  NOP
  14C:  LWC1      F0, 84 (S3)
  150:  CVT.S.W   F0, F0
  154:  SUB.S     F0, F0, F2
  158:  SWC1      F0, 4C (S1)
  15C:  LW        V0, 70 (S3)
  160:  LI        V1, D
  164:  ADDIU     V0, V0, 1
  168:  BNE       V0, V1, .o1D0
  16C:  SW        V0, 70 (S3)
  170:  LWC1      F0, 10 (S2)
  174:  CVT.S.W   F0, F0
  178:  LWC1      F2, 50 (S1)
  17C:  LWC1      F4, 8 (S2)
  180:  CVT.S.W   F4, F4
  184:  SUB.S     F2, F2, F0
  188:  LWC1      F0, 48 (S1)
  18C:  LBU       V0, 4 (S2)
  190:  SUB.S     F0, F0, F4
  194:  DIV.S     F2, F2, F6
  198:  TRUNC.W.S F8, F2
  19C:  MFC1      V1, F8
  1A0:  NOP
  1A4:  MULT      V1, V0
  1A8:  LI        V0, 1
  1AC:  LW        V1, 0 (S2)
  1B0:  DIV.S     F0, F0, F6
        .o1B4
  1B4:  TRUNC.W.S F8, F0
  1B8:  MFC1      A0, F8
  1BC:  MFLO      T0
  1C0:  ADDU      A0, A0, T0
  1C4:  ADDU      V1, V1, A0
  1C8:  BEQ       R0, R0, .o1D4
  1CC:  SB        R0, 0 (V1)
        .o1D0
  1D0:  CLEAR     V0
        .o1D4
  1D4:  LW        RA, 38 (SP)
  1D8:  LW        S3, 34 (SP)
  1DC:  LW        S2, 30 (SP)
  1E0:  LW        S1, 2C (SP)
  1E4:  LW        S0, 28 (SP)
  1E8:  JR        RA
  1EC:  ADDIU     SP, SP, 40
}

% Origin: HEURISTIC
% 007E3CB0 --> 80282E30
#new:Function $Function_80282E30
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S0, 10 (SP)
    8:  COPY      S0, A0
    C:  SW        RA, 18 (SP)
   10:  SW        S1, 14 (SP)
   14:  LW        A0, B0 (S0)
   18:  JAL       ~Func:get_entity_by_index
   1C:  LW        S1, AC (S0)
   20:  LA        V1, 8010EFC8
   28:  COPY      T2, V0
   2C:  LWC1      F0, 28 (V1)
   30:  LWC1      F2, 2C (V1)
   34:  LW        T5, 8 (S1)
   38:  LW        T3, C (S1)
   3C:  LW        T4, 10 (S1)
   40:  TRUNC.W.S F4, F0
   44:  MFC1      A0, F4
   48:  TRUNC.W.S F4, F2
   4C:  MFC1      T1, F4
   50:  SUBU      A0, A0, T5
   54:  LWC1      F0, 30 (V1)
   58:  SUBU      T1, T1, T3
   5C:  TRUNC.W.S F4, F0
   60:  MFC1      T0, F4
   64:  BGEZ      A0, .o70
   68:  SUBU      T0, T0, T4
   6C:  ADDIU     A0, A0, FFE7
        .o70
   70:  BLTZL     T0, .o78
   74:  ADDIU     T0, T0, FFE7
        .o78
   78:  LI        A1, 51EB851F
   80:  MULT      A0, A1
   84:  MFHI      V1
   88:  NOP
   8C:  NOP
   90:  MULT      T1, A1
   94:  SRA       V0, A0, 1F
   98:  MFHI      A2
   9C:  SRA       V1, V1, 3
   A0:  SUBU      A0, V1, V0
   A4:  MULT      T0, A1
   A8:  SRA       V0, T1, 1F
   AC:  SRA       V1, A2, 3
   B0:  SUBU      T1, V1, V0
   B4:  SRA       V0, T0, 1F
   B8:  MFHI      A3
   BC:  SRA       V1, A3, 3
   C0:  SUBU      T0, V1, V0
   C4:  COPY      A3, A0
   C8:  SLL       V0, A0, 1
   CC:  ADDU      V0, V0, A0
   D0:  SLL       V0, V0, 3
   D4:  ADDU      A0, A0, V0
   D8:  SLL       V0, T1, 1
   DC:  ADDU      V0, V0, T1
   E0:  SLL       V0, V0, 3
   E4:  ADDU      T1, T1, V0
   E8:  COPY      A2, T0
   EC:  SLL       V0, T0, 1
   F0:  ADDU      V0, V0, T0
   F4:  SLL       V0, V0, 3
   F8:  ADDU      T0, T0, V0
   FC:  ADDIU     V0, A0, C
  100:  ADDU      A0, V0, T5
  104:  ADDU      T1, T1, T3
  108:  ADDIU     V0, T0, C
  10C:  ADDU      T0, V0, T4
  110:  SW        A0, 84 (S0)
  114:  SW        T1, 88 (S0)
  118:  SW        T0, 8C (S0)
  11C:  LWC1      F0, 48 (T2)
  120:  TRUNC.W.S F4, F0
  124:  MFC1      A0, F4
  128:  NOP
  12C:  SW        A0, 90 (S0)
  130:  LWC1      F0, 4C (T2)
  134:  TRUNC.W.S F4, F0
  138:  SWC1      F4, 94 (S0)
  13C:  LWC1      F0, 50 (T2)
  140:  TRUNC.W.S F4, F0
  144:  MFC1      V1, F4
  148:  NOP
  14C:  SW        V1, 98 (S0)
  150:  LW        V0, 8 (S1)
  154:  SUBU      A0, A0, V0
  158:  MULT      A0, A1
  15C:  LW        V0, 10 (S1)
  160:  MFHI      T2
  164:  SUBU      T0, V1, V0
  168:  SRA       V0, A0, 1F
  16C:  MULT      T0, A1
  170:  SRA       V1, T2, 3
  174:  SUBU      T2, V1, V0
  178:  SUBU      A1, T2, A3
  17C:  SRA       V0, T0, 1F
  180:  MFHI      T1
  184:  SRA       V1, T1, 3
  188:  SUBU      V0, V1, V0
  18C:  BEQ       A1, R0, .o1A4
  190:  SUBU      A0, V0, A2
  194:  BEQ       A0, R0, .o1A8
  198:  ADDU      A2, T2, A1
  19C:  CLEAR     A0
  1A0:  COPY      A1, A0
        .o1A4
  1A4:  ADDU      A2, T2, A1
        .o1A8
  1A8:  ADDU      V1, V0, A0
  1AC:  SW        A1, 9C (S0)
  1B0:  SW        R0, A0 (S0)
  1B4:  BNE       A1, R0, .o1CC
  1B8:  SW        A0, A4 (S0)
  1BC:  BNE       A0, R0, .o1CC
  1C0:  LI        V0, 2
  1C4:  BEQ       R0, R0, .o23C
  1C8:  SW        V0, A8 (S0)
        .o1CC
  1CC:  LBU       A0, 4 (S1)
  1D0:  SLT       V0, A2, A0
  1D4:  BEQ       V0, R0, .o234
  1D8:  LI        V0, 1
  1DC:  BLTZL     A2, .o238
  1E0:  SW        V0, A8 (S0)
  1E4:  LBU       V0, 5 (S1)
  1E8:  SLT       V0, V1, V0
  1EC:  BEQ       V0, R0, .o234
  1F0:  LI        V0, 1
  1F4:  BLTZ      V1, .o234
  1F8:  MULT      V1, A0
  1FC:  LW        V0, 0 (S1)
  200:  MFLO      T6
  204:  ADDU      V1, A2, T6
  208:  ADDU      V0, V0, V1
  20C:  LBU       V0, 0 (V0)
  210:  BNE       V0, R0, .o234
  214:  LI        V0, 1
  218:  LAH       V1, 8015A550
  220:  LI        V0, FFFF
  224:  BEQ       V1, V0, .o234
  228:  LI        V0, 1
  22C:  BEQ       R0, R0, .o238
  230:  SW        R0, A8 (S0)
        .o234
  234:  SW        V0, A8 (S0)
        .o238
  238:  LI        V0, 2
        .o23C
  23C:  LW        RA, 18 (SP)
  240:  LW        S1, 14 (SP)
  244:  LW        S0, 10 (SP)
  248:  JR        RA
  24C:  ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
% 007E3F00 --> 80283080
#new:Function $Function_80283080
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S0, 10 (SP)
    8:  COPY      S0, A0
    C:  SW        RA, 18 (SP)
   10:  SW        S1, 14 (SP)
   14:  LW        A0, B0 (S0)
   18:  JAL       ~Func:get_entity_by_index
   1C:  LW        S1, AC (S0)
   20:  LI        A1, 51EB851F
   28:  LWC1      F0, 50 (V0)
   2C:  LW        A0, 10 (S1)
   30:  TRUNC.W.S F2, F0
   34:  MFC1      V1, F2
   38:  NOP
   3C:  SUBU      V1, V1, A0
   40:  MULT      V1, A1
   44:  LWC1      F0, 48 (V0)
   48:  LW        V0, 8 (S1)
   4C:  MFHI      A3
   50:  TRUNC.W.S F2, F0
   54:  MFC1      A2, F2
   58:  NOP
   5C:  SUBU      A2, A2, V0
   60:  MULT      A2, A1
   64:  SRA       V1, V1, 1F
   68:  LW        V0, A4 (S0)
   6C:  SRA       A3, A3, 3
   70:  SUBU      A3, A3, V1
   74:  MFHI      A1
   78:  LBU       V1, 4 (S1)
   7C:  ADDU      V0, A3, V0
   80:  MULT      V0, V1
   84:  LW        A0, 9C (S0)
   88:  MFLO      V0
   8C:  SRA       A2, A2, 1F
   90:  SRA       A1, A1, 3
   94:  MULT      A3, V1
   98:  SUBU      A1, A1, A2
   9C:  ADDU      A0, A1, A0
   A0:  ADDU      A0, A0, V0
   A4:  LW        V1, 0 (S1)
   A8:  MFLO      T1
   AC:  ADDU      V0, A1, T1
   B0:  ADDU      V0, V1, V0
   B4:  LBU       V0, 0 (V0)
   B8:  ADDU      V1, V1, A0
   BC:  SB        V0, 0 (V1)
   C0:  LBU       V0, 4 (S1)
   C4:  MULT      A3, V0
   C8:  LW        V1, 0 (S1)
   CC:  MFLO      A2
   D0:  ADDU      A1, A1, A2
   D4:  ADDU      V1, V1, A1
   D8:  SB        R0, 0 (V1)
   DC:  LW        RA, 18 (SP)
   E0:  LW        S1, 14 (SP)
   E4:  LW        S0, 10 (SP)
   E8:  LI        V0, 2
   EC:  JR        RA
   F0:  ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
% 007E3FF4 --> 80283174
#new:Function $Function_80283174
{
    0:  LA        A1, 8010EFC8
    8:  LW        V0, B0 (A0)
    C:  LAH       V1, 8015A550
   14:  ADDIU     V0, V0, 4000
   18:  BNEL      V1, V0, .o58
   1C:  SW        R0, B8 (A0)
   20:  LB        V1, B4 (A1)
   24:  LI        V0, 14
   28:  BEQ       V1, V0, .o40
   2C:  LI        V0, 1
   30:  BEQ       V1, V0, .o40
   34:  LI        V0, 2
   38:  BNEL      V1, V0, .o60
   3C:  SW        R0, B8 (A0)
        .o40
   40:  LW        V0, 4 (A1)
   44:  ANDI      V0, V0, 1
   48:  BNEL      V0, R0, .o58
   4C:  SW        R0, B8 (A0)
   50:  LI        V0, 1
   54:  SW        V0, B8 (A0)
        .o58
   58:  JR        RA
   5C:  LI        V0, 2
        .o60
   60:  JR        RA
   64:  NOP
}

% 007E405C --> 802831DC
#new:Function $Function_CheckActionState
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S0, 10 (SP)
    8:  COPY      S0, A0
    C:  SW        RA, 18 (SP)
   10:  SW        S1, 14 (SP)
   14:  LW        V0, C (S0)
   18:  LW        A1, 4 (V0)
   1C:  JAL       ~Func:get_float_variable
   20:  LW        S1, 0 (V0)
   24:  COPY      A0, S0
   28:  COPY      A1, S1
   2C:  LAB       A2, 8010F07C
   34:  TRUNC.W.S F2, F0
   38:  MFC1      V0, F2
   3C:  NOP
   40:  XOR       A2, A2, V0
   44:  JAL       ~Func:set_variable
   48:  SLTIU     A2, A2, 1
   4C:  LW        RA, 18 (SP)
   50:  LW        S1, 14 (SP)
   54:  LW        S0, 10 (SP)
   58:  LI        V0, 2
   5C:  JR        RA
   60:  ADDIU     SP, SP, 20
}

% Origin: HEURISTIC
% 007E40C0 --> 80283240
#new:Function $Function_80283240
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        S3, 1C (SP)
    8:  COPY      S3, A0
    C:  SW        S1, 14 (SP)
   10:  CLEAR     S1
   14:  SW        RA, 24 (SP)
   18:  SW        S4, 20 (SP)
   1C:  SW        S2, 18 (SP)
   20:  SW        S0, 10 (SP)
   24:  LW        V0, C (S3)
   28:  LW        A1, 4 (V0)
   2C:  LW        S4, 0 (V0)
   30:  JAL       ~Func:get_variable
   34:  COPY      S0, S1
   38:  COPY      S2, V0
        .o3C
   3C:  JAL       ~Func:get_script_by_index
   40:  COPY      A0, S0
   44:  BEQ       V0, R0, .o60
   48:  ADDIU     S0, S0, 1
   4C:  LW        V0, 15C (V0)
   50:  BNE       V0, S2, .o64
   54:  SLTI      V0, S0, 80
   58:  BEQ       R0, R0, .o6C
   5C:  LI        S1, 1
        .o60
   60:  SLTI      V0, S0, 80
        .o64
   64:  BNE       V0, R0, .o3C
   68:  NOP
        .o6C
   6C:  COPY      A0, S3
   70:  COPY      A1, S4
   74:  JAL       ~Func:set_variable
   78:  COPY      A2, S1
   7C:  LW        RA, 24 (SP)
   80:  LW        S4, 20 (SP)
   84:  LW        S3, 1C (SP)
   88:  LW        S2, 18 (SP)
   8C:  LW        S1, 14 (SP)
   90:  LW        S0, 10 (SP)
   94:  LI        V0, 2
   98:  JR        RA
   9C:  ADDIU     SP, SP, 28
}

% 007E4160 --> 802832E0
#new:Function $Function_CreatePushBlockGrid
{
    0:  ADDIU     SP, SP, FFC8
    4:  SW        S1, 14 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 34 (SP)
   10:  SW        S8, 30 (SP)
   14:  SW        S7, 2C (SP)
   18:  SW        S6, 28 (SP)
   1C:  SW        S5, 24 (SP)
   20:  SW        S4, 20 (SP)
   24:  SW        S3, 1C (SP)
   28:  SW        S2, 18 (SP)
   2C:  SW        S0, 10 (SP)
   30:  LW        S0, C (S1)
   34:  LW        A1, 0 (S0)
   38:  JAL       ~Func:get_variable
   3C:  ADDIU     S0, S0, 4
   40:  LW        A1, 0 (S0)
   44:  ADDIU     S0, S0, 4
   48:  COPY      A0, S1
   4C:  JAL       ~Func:get_variable
   50:  COPY      S2, V0
   54:  LW        A1, 0 (S0)
   58:  ADDIU     S0, S0, 4
   5C:  COPY      A0, S1
   60:  JAL       ~Func:get_variable
   64:  COPY      S5, V0
   68:  LW        A1, 0 (S0)
   6C:  ADDIU     S0, S0, 4
   70:  COPY      A0, S1
   74:  JAL       ~Func:get_variable
   78:  COPY      S4, V0
   7C:  LW        A1, 0 (S0)
   80:  ADDIU     S0, S0, 4
   84:  COPY      A0, S1
   88:  JAL       ~Func:get_variable
   8C:  COPY      S8, V0
   90:  COPY      A0, S1
   94:  LW        A1, 0 (S0)
   98:  JAL       ~Func:get_variable
   9C:  COPY      S7, V0
   A0:  MULT      S5, S4
   A4:  ADDIU     S0, S0, 4
   A8:  COPY      A0, S1
   AC:  LW        A1, 0 (S0)
   B0:  MFLO      S1
   B4:  JAL       ~Func:get_variable
   B8:  COPY      S6, V0
   BC:  LI        A0, 1C
   C0:  JAL       ~Func:general_heap_malloc
   C4:  COPY      S3, V0
   C8:  SLL       S2, S2, 2
   CC:  COPY      S0, V0
   D0:  STW       S0, S2 (802DBC88)
   DC:  JAL       ~Func:general_heap_malloc
   E0:  COPY      A0, S1
   E4:  BNE       S3, R0, .o11C
   E8:  SW        V0, 0 (S0)
   EC:  BLEZ      S1, .o150
   F0:  CLEAR     A1
   F4:  COPY      A0, S1
        .oF8
   F8:  LW        V0, 0 (S0)
   FC:  ADDU      V0, V0, A1
  100:  ADDIU     A1, A1, 1
  104:  SB        R0, 0 (V0)
  108:  SLT       V0, A1, A0
  10C:  BNE       V0, R0, .oF8
  110:  NOP
  114:  BEQ       R0, R0, .o154
  118:  SB        S5, 4 (S0)
        .o11C
  11C:  CLEAR     A1
  120:  BLEZ      S1, .o150
  124:  COPY      A2, S3
  128:  COPY      A0, S1
  12C:  ADDU      V0, A2, A1
        .o130
  130:  LW        V1, 0 (S0)
  134:  LBU       V0, 0 (V0)
  138:  ADDU      V1, V1, A1
  13C:  ADDIU     A1, A1, 1
  140:  SB        V0, 0 (V1)
  144:  SLT       V0, A1, A0
  148:  BNE       V0, R0, .o130
  14C:  ADDU      V0, A2, A1
        .o150
  150:  SB        S5, 4 (S0)
        .o154
  154:  SB        S4, 5 (S0)
  158:  SW        S8, 8 (S0)
  15C:  SW        S7, C (S0)
  160:  SW        S6, 10 (S0)
  164:  SW        R0, 14 (S0)
  168:  LW        RA, 34 (SP)
  16C:  LW        S8, 30 (SP)
  170:  LW        S7, 2C (SP)
  174:  LW        S6, 28 (SP)
  178:  LW        S5, 24 (SP)
  17C:  LW        S4, 20 (SP)
  180:  LW        S3, 1C (SP)
  184:  LW        S2, 18 (SP)
  188:  LW        S1, 14 (SP)
  18C:  LW        S0, 10 (SP)
  190:  LI        V0, 2
  194:  JR        RA
  198:  ADDIU     SP, SP, 38
}

% 007E42FC --> 8028347C
#new:Function $Function_SetPushBlock
{
    0:  ADDIU     SP, SP, FFC0
    4:  SW        S3, 34 (SP)
    8:  COPY      S3, A0
    C:  SW        RA, 38 (SP)
   10:  SW        S2, 30 (SP)
   14:  SW        S1, 2C (SP)
   18:  SW        S0, 28 (SP)
   1C:  LW        S0, C (S3)
   20:  LW        A1, 0 (S0)
   24:  JAL       ~Func:get_variable
   28:  ADDIU     S0, S0, 4
   2C:  LW        A1, 0 (S0)
   30:  ADDIU     S0, S0, 4
   34:  COPY      A0, S3
   38:  JAL       ~Func:get_variable
   3C:  COPY      S1, V0
   40:  LW        A1, 0 (S0)
   44:  ADDIU     S0, S0, 4
   48:  COPY      A0, S3
   4C:  JAL       ~Func:get_variable
   50:  COPY      S2, V0
   54:  COPY      A0, S3
   58:  LW        A1, 0 (S0)
   5C:  JAL       ~Func:get_variable
   60:  COPY      S0, V0
   64:  SLL       S1, S1, 2
   68:  LTW       S1, S1 (802DBC88)
   74:  LBU       V1, 4 (S1)
   78:  MULT      S0, V1
   7C:  LW        V1, 0 (S1)
   80:  MFLO      T0
   84:  ADDU      A0, S2, T0
   88:  ADDU      V1, V1, A0
   8C:  SB        V0, 0 (V1)
   90:  LI        V1, 1
   94:  BNE       V0, V1, .o124
   98:  LUI       V0, 8000
   9C:  LA        A0, 802EA2BC
   A4:  LW        A1, 8 (S1)
   A8:  LW        A2, C (S1)
   AC:  LW        A3, 10 (S1)
   B0:  SW        V0, 20 (SP)
   B4:  SLLV      V0, S2, V1
   B8:  ADDU      V0, V0, S2
   BC:  SLL       V0, V0, 3
   C0:  ADDU      V0, V0, S2
   C4:  SW        R0, 10 (SP)
   C8:  SW        R0, 14 (SP)
   CC:  SW        R0, 18 (SP)
   D0:  SW        R0, 1C (SP)
   D4:  ADDU      A1, A1, V0
   D8:  ADDIU     A1, A1, C
   DC:  SLLV      V0, S0, V1
   E0:  ADDU      V0, V0, S0
   E4:  SLL       V0, V0, 3
   E8:  ADDU      V0, V0, S0
   EC:  ADDU      A3, A3, V0
   F0:  JAL       ~Func:create_entity
   F4:  ADDIU     A3, A3, C
   F8:  LA        A0, $Script_80285674
  100:  LI        A1, 40
  104:  COPY      S0, V0
  108:  ADDIU     A2, S0, 4000
  10C:  COPY      A3, S1
  110:  LI        V0, 3
  114:  SW        S0, 10 (SP)
  118:  JAL       802C42A8
  11C:  SW        V0, 14 (SP)
  120:  SW        S0, 84 (S3)
        .o124
  124:  LW        RA, 38 (SP)
  128:  LW        S3, 34 (SP)
  12C:  LW        S2, 30 (SP)
  130:  LW        S1, 2C (SP)
  134:  LW        S0, 28 (SP)
  138:  LI        V0, 2
  13C:  JR        RA
  140:  ADDIU     SP, SP, 40
}

% 007E4440 --> 802835C0
#new:Function $Function_GetPushBlock
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        S4, 20 (SP)
    8:  COPY      S4, A0
    C:  SW        RA, 24 (SP)
   10:  SW        S3, 1C (SP)
   14:  SW        S2, 18 (SP)
   18:  SW        S1, 14 (SP)
   1C:  SW        S0, 10 (SP)
   20:  LW        S0, C (S4)
   24:  LW        A1, 0 (S0)
   28:  JAL       ~Func:get_variable
   2C:  ADDIU     S0, S0, 4
   30:  LW        A1, 0 (S0)
   34:  ADDIU     S0, S0, 4
   38:  COPY      A0, S4
   3C:  JAL       ~Func:get_variable
   40:  COPY      S1, V0
   44:  COPY      A0, S4
   48:  LW        A1, 0 (S0)
   4C:  JAL       ~Func:get_variable
   50:  COPY      S3, V0
   54:  SLL       S1, S1, 2
   58:  ADDIU     S0, S0, 4
   5C:  LTW       S2, S1 (802DBC88)
   68:  LBU       V1, 4 (S2)
   6C:  LW        S0, 0 (S0)
   70:  SLT       V1, S3, V1
   74:  BEQ       V1, R0, .o9C
   78:  COPY      S1, V0
   7C:  BLTZ      S3, .oA0
   80:  COPY      A0, S4
   84:  LBU       V0, 5 (S2)
   88:  SLT       V0, S1, V0
   8C:  BEQ       V0, R0, .oA4
   90:  COPY      A1, S0
   94:  BGEZ      S1, .oAC
   98:  NOP
        .o9C
   9C:  COPY      A0, S4
        .oA0
   A0:  COPY      A1, S0
        .oA4
   A4:  JAL       ~Func:set_variable
   A8:  LI        A2, 3
        .oAC
   AC:  LBU       V0, 4 (S2)
   B0:  MULT      S1, V0
   B4:  COPY      A0, S4
   B8:  LW        V0, 0 (S2)
   BC:  MFLO      A3
   C0:  ADDU      V1, S3, A3
   C4:  ADDU      V0, V0, V1
   C8:  LBU       A2, 0 (V0)
   CC:  JAL       ~Func:set_variable
   D0:  COPY      A1, S0
   D4:  LW        RA, 24 (SP)
   D8:  LW        S4, 20 (SP)
   DC:  LW        S3, 1C (SP)
   E0:  LW        S2, 18 (SP)
   E4:  LW        S1, 14 (SP)
   E8:  LW        S0, 10 (SP)
   EC:  LI        V0, 2
   F0:  JR        RA
   F4:  ADDIU     SP, SP, 28
}

% 007E4538 --> 802836B8
#new:Function $Function_GetGridIndexFromPos
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        S3, 1C (SP)
    8:  COPY      S3, A0
    C:  SW        RA, 20 (SP)
   10:  SW        S2, 18 (SP)
   14:  SW        S1, 14 (SP)
   18:  SW        S0, 10 (SP)
   1C:  LW        S0, C (S3)
   20:  LW        A1, 0 (S0)
   24:  JAL       ~Func:get_variable
   28:  ADDIU     S0, S0, 4
   2C:  LW        A1, 0 (S0)
   30:  ADDIU     S0, S0, 4
   34:  COPY      A0, S3
   38:  JAL       ~Func:get_variable
   3C:  COPY      S1, V0
   40:  COPY      S2, V0
   44:  LW        A1, 0 (S0)
   48:  ADDIU     S0, S0, 4
   4C:  JAL       ~Func:get_variable
   50:  COPY      A0, S3
   54:  LW        A1, 0 (S0)
   58:  JAL       ~Func:get_variable
   5C:  COPY      A0, S3
   60:  SLL       S1, S1, 2
   64:  LTW       A0, S1 (802DBC88)
   70:  LUI       A2, 51EB
   74:  LW        V1, 8 (A0)
   78:  ORI       A2, A2, 851F
   7C:  SUBU      S2, S2, V1
   80:  MULT      S2, A2
   84:  ADDIU     S0, S0, 4
   88:  LW        A1, 0 (S0)
   8C:  LW        S0, 4 (S0)
   90:  LW        V1, 10 (A0)
   94:  MFHI      A3
   98:  COPY      A0, S3
   9C:  SUBU      V0, V0, V1
   A0:  MULT      V0, A2
   A4:  SRA       S2, S2, 1F
   A8:  SRA       A2, A3, 3
   AC:  SUBU      A2, A2, S2
   B0:  SRA       V0, V0, 1F
   B4:  MFHI      V1
   B8:  SRA       S1, V1, 3
   BC:  JAL       ~Func:set_variable
   C0:  SUBU      S1, S1, V0
   C4:  COPY      A0, S3
   C8:  COPY      A1, S0
   CC:  JAL       ~Func:set_variable
   D0:  COPY      A2, S1
   D4:  LW        RA, 20 (SP)
   D8:  LW        S3, 1C (SP)
   DC:  LW        S2, 18 (SP)
   E0:  LW        S1, 14 (SP)
   E4:  LW        S0, 10 (SP)
   E8:  LI        V0, 2
   EC:  JR        RA
   F0:  ADDIU     SP, SP, 28
}

% 007E462C --> 802837AC
#new:Function $Function_SetPushBlockFallEffect
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S1, 14 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 18 (SP)
   10:  SW        S0, 10 (SP)
   14:  LW        S0, C (S1)
   18:  LW        A1, 0 (S0)
   1C:  JAL       ~Func:get_variable
   20:  ADDIU     S0, S0, 4
   24:  COPY      A0, S1
   28:  LW        A1, 0 (S0)
   2C:  JAL       ~Func:get_variable
   30:  COPY      S0, V0
   34:  SLL       S0, S0, 2
   38:  LTW       V1, S0 (802DBC88)
   44:  SW        V0, 14 (V1)
   48:  LW        RA, 18 (SP)
   4C:  LW        S1, 14 (SP)
   50:  LW        S0, 10 (SP)
   54:  LI        V0, 2
   58:  JR        RA
   5C:  ADDIU     SP, SP, 20
}

PADDING: 8028380C to 80283810 (007E468C to 007E4690)
00000000

% 007E4690 --> 80283810
#new:Function $Function_CheckRideScriptForEnterExit
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        S0, 10 (SP)
    8:  COPY      S0, A0
    C:  SW        RA, 14 (SP)
   10:  JAL       ~Func:partner_get_ride_script
   14:  SW        R0, AC (S0)
   18:  BEQ       V0, R0, .o58
   1C:  NOP
   20:  LAB       V0, 8010EBB0
   28:  BNE       V0, R0, .o38
   2C:  LI        V0, 1
   30:  BEQ       R0, R0, .o58
   34:  SW        R0, AC (S0)
        .o38
   38:  JAL       ~Func:partner_get_ride_script
   3C:  SW        V0, AC (S0)
   40:  SW        V0, B0 (S0)
   44:  LA        V0, 8010EFC8
   4C:  LWC1      F0, 80 (V0)
   50:  TRUNC.W.S F2, F0
   54:  SWC1      F2, B8 (S0)
        .o58
   58:  LW        RA, 14 (SP)
   5C:  LW        S0, 10 (SP)
   60:  LI        V0, 2
   64:  JR        RA
   68:  ADDIU     SP, SP, 18
}

% 007E46FC --> 8028387C
#new:Function $Function_TeleportPartnerToPlayer
{
    0:  LAB       V0, 8010F2A2
    8:  ADDIU     SP, SP, FFE0
    C:  SW        S1, 14 (SP)
   10:  LA        S1, 8010EFC8
   18:  SW        S2, 18 (SP)
   1C:  COPY      S2, S1
   20:  SW        RA, 1C (SP)
   24:  BEQ       V0, R0, .o70
   28:  SW        S0, 10 (SP)
   2C:  JAL       ~Func:get_npc_unsafe
   30:  LI        A0, FFFC
   34:  LWC1      F0, 28 (S1)
   38:  COPY      S0, V0
   3C:  SWC1      F0, 38 (S0)
   40:  LWC1      F0, 30 (S1)
   44:  JAL       ~Func:partner_is_flying
   48:  SWC1      F0, 40 (S0)
   4C:  BEQ       V0, R0, .o5C
   50:  NOP
   54:  LWC1      F0, 2C (S1)
   58:  SWC1      F0, 3C (S0)
        .o5C
   5C:  LW        A1, 80 (S2)
   60:  JAL       ~Func:set_npc_yaw
   64:  COPY      A0, S0
   68:  JAL       ~Func:partner_clear_player_tracking
   6C:  COPY      A0, S0
        .o70
   70:  LI        V0, 2
   74:  LW        RA, 1C (SP)
   78:  LW        S2, 18 (SP)
   7C:  LW        S1, 14 (SP)
   80:  LW        S0, 10 (SP)
   84:  JR        RA
   88:  ADDIU     SP, SP, 20
}

% 007E4788 --> 80283908
#new:Function $Function_SetPlayerPositionFromSaveData
{
    0:  LAW       V1, 8007419C
    8:  ADDIU     SP, SP, FFE0
    C:  SW        S0, 10 (SP)
   10:  LA        S0, 8010EFC8
   18:  SW        RA, 1C (SP)
   1C:  SW        S2, 18 (SP)
   20:  SW        S1, 14 (SP)
   24:  LH        V0, 160 (V1)
   28:  COPY      S1, S0
   2C:  MTC1      V0, F0
   30:  NOP
   34:  CVT.S.W   F0, F0
   38:  SWC1      F0, 28 (S0)
   3C:  LH        V0, 162 (V1)
   40:  LA        A0, 800B1D80
   48:  MTC1      V0, F0
   4C:  NOP
   50:  CVT.S.W   F0, F0
   54:  SWC1      F0, 2C (S0)
   58:  LH        V0, 164 (V1)
   5C:  LAW       V1, 80077410
   64:  MTC1      V0, F0
   68:  NOP
   6C:  CVT.S.W   F0, F0
   70:  SLL       V0, V1, 2
   74:  ADDU      V0, V0, V1
   78:  SLL       V0, V0, 2
   7C:  SUBU      V0, V0, V1
   80:  SLL       V1, V0, 3
   84:  ADDU      V0, V0, V1
   88:  SLL       V0, V0, 3
   8C:  SWC1      F0, 30 (S0)
   90:  LAB       V1, 8010F2A2
   98:  BEQ       V1, R0, .o124
   9C:  ADDU      S2, V0, A0
   A0:  JAL       ~Func:get_npc_unsafe
   A4:  LI        A0, FFFC
   A8:  LWC1      F2, A8 (S0)
   AC:  LIF       F0, 180.0
   B4:  LIF       F12, -90.0
   BC:  C.LT.S    F2, F0
   C0:  NOP
   C4:  BC1F      .oD4
   C8:  COPY      S0, V0
   CC:  LIF       F12, 90.0
        .oD4
   D4:  JAL       ~Func:clamp_angle
   D8:  NOP
   DC:  LWC1      F2, 28 (S1)
   E0:  SWC1      F2, 38 (S0)
   E4:  LWC1      F2, 2C (S1)
   E8:  SWC1      F2, 3C (S0)
   EC:  LWC1      F2, 30 (S1)
   F0:  ADDIU     A0, S0, 38
   F4:  SWC1      F2, 40 (S0)
   F8:  LH        V0, B2 (S1)
   FC:  MFC1      A3, F0
  100:  ADDIU     V0, V0, 5
  104:  MTC1      V0, F4
  108:  NOP
  10C:  CVT.S.W   F4, F4
  110:  MFC1      A2, F4
  114:  JAL       ~Func:add_vec2D_polar
  118:  ADDIU     A1, S0, 40
  11C:  JAL       ~Func:enable_partner_ai
  120:  NOP
        .o124
  124:  LI        V0, 1
  128:  SH        V0, 8 (S2)
  12C:  LW        RA, 1C (SP)
  130:  LW        S2, 18 (SP)
  134:  LW        S1, 14 (SP)
  138:  LW        S0, 10 (SP)
  13C:  LI        V0, 2
  140:  JR        RA
  144:  ADDIU     SP, SP, 20
}

% 007E48D0 --> 80283A50
#new:Function $Function_EnterPlayerPostPipe
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S2, 18 (SP)
    8:  COPY      S2, A0
    C:  SW        S0, 10 (SP)
   10:  COPY      S0, A1
   14:  SW        RA, 1C (SP)
   18:  JAL       ~Func:get_current_map_header
   1C:  SW        S1, 14 (SP)
   20:  CLEAR     A2
   24:  LA        S1, 8010EFC8
   2C:  BEQ       S0, R0, .oB4
   30:  COPY      A1, V0
   34:  LAW       A0, 8007419C
   3C:  LH        V0, 8E (A0)
   40:  LW        V1, 14 (A1)
   44:  SLL       V0, V0, 4
   48:  ADDU      V0, V0, V1
   4C:  LWC1      F0, 0 (V0)
   50:  SWC1      F0, 28 (S1)
   54:  LH        V0, 8E (A0)
   58:  LW        V1, 14 (A1)
   5C:  SLL       V0, V0, 4
   60:  ADDU      V0, V0, V1
   64:  LWC1      F0, 8 (V0)
   68:  SWC1      F0, 30 (S1)
   6C:  LH        V0, 8E (A0)
   70:  LW        V1, 14 (A1)
   74:  SLL       V0, V0, 4
   78:  ADDU      V0, V0, V1
   7C:  LWC1      F0, 4 (V0)
   80:  TRUNC.W.S F6, F0
   84:  MFC1      V0, F6
   88:  NOP
   8C:  SW        V0, 8C (S2)
   90:  ADDIU     V0, V0, FFD8
   94:  MTC1      V0, F0
   98:  NOP
   9C:  CVT.S.W   F0, F0
   A0:  LW        V0, 0 (S1)
   A4:  LUI       V1, 400
   A8:  SWC1      F0, 2C (S1)
   AC:  BEQ       R0, R0, .oF8
   B0:  OR        V0, V0, V1
        .oB4
   B4:  LWC1      F2, 2C (S1)
   B8:  LIF       F0, 1.0
   C0:  NOP
   C4:  ADD.S     F2, F2, F0
   C8:  SWC1      F2, 2C (S1)
   CC:  LWC1      F0, 8C (S2)
   D0:  CVT.S.W   F0, F0
   D4:  C.LT.S    F2, F0
   D8:  NOP
   DC:  BC1T      .oFC
   E0:  LUI       V1, FBFF
   E4:  ORI       V1, V1, FFFF
   E8:  LW        V0, 0 (S1)
   EC:  LI        A2, 2
   F0:  SWC1      F0, 2C (S1)
   F4:  AND       V0, V0, V1
        .oF8
   F8:  SW        V0, 0 (S1)
        .oFC
   FC:  LWC1      F0, 28 (S1)
  100:  LWC1      F2, 2C (S1)
  104:  LWC1      F4, 30 (S1)
  108:  LA        V1, 800B1D80
  110:  SWC1      F0, 60 (V1)
  114:  SWC1      F2, 64 (V1)
  118:  SWC1      F4, 68 (V1)
  11C:  LW        RA, 1C (SP)
  120:  LW        S2, 18 (SP)
  124:  LW        S1, 14 (SP)
  128:  LW        S0, 10 (SP)
  12C:  COPY      V0, A2
  130:  JR        RA
  134:  ADDIU     SP, SP, 20
}

% 007E4A08 --> 80283B88
#new:Function $Function_ShortenPartnerTetherDistance
{
    0:  LIF       F12, 20.0
    8:  ADDIU     SP, SP, FFE8
    C:  SW        RA, 10 (SP)
   10:  JAL       ~Func:partner_set_tether_distance
   14:  NOP
   18:  LW        RA, 10 (SP)
   1C:  LI        V0, 2
   20:  JR        RA
   24:  ADDIU     SP, SP, 18
}

% 007E4A30 --> 80283BB0
#new:Function $Function_ResetPartnerTetherDistance
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  JAL       ~Func:partner_reset_tether_distance
    C:  NOP
   10:  LW        RA, 10 (SP)
   14:  LI        V0, 2
   18:  JR        RA
   1C:  ADDIU     SP, SP, 18
}

% 007E4A50 --> 80283BD0
#new:Function $Function_PlayerMoveToDoor
{
    0:  ADDIU     SP, SP, FFE0
    4:  SW        S0, 10 (SP)
    8:  COPY      S0, A0
    C:  SW        S1, 14 (SP)
   10:  LA        S1, 8010EFC8
   18:  SW        RA, 18 (SP)
   1C:  BEQ       A1, R0, .o40
   20:  LW        V0, C (S0)
   24:  JAL       ~Func:get_variable
   28:  LW        A1, 0 (V0)
   2C:  SW        V0, 70 (S0)
   30:  LW        A1, 80 (S1)
   34:  LW        A2, 5C (S1)
   38:  JAL       ~Func:move_player
   3C:  COPY      A0, V0
        .o40
   40:  LW        V1, 70 (S0)
   44:  ADDIU     V1, V1, FFFF
   48:  SW        V1, 70 (S0)
   4C:  LW        RA, 18 (SP)
   50:  LW        S1, 14 (SP)
   54:  LW        S0, 10 (SP)
   58:  SRL       V0, V1, 1F
   5C:  JR        RA
   60:  ADDIU     SP, SP, 20
}

% 007E4AB4 --> 80283C34
#new:Function $Function_GetEntryCoords
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        S2, 18 (SP)
    8:  COPY      S2, A0
    C:  SW        RA, 20 (SP)
   10:  SW        S3, 1C (SP)
   14:  SW        S1, 14 (SP)
   18:  SW        S0, 10 (SP)
   1C:  JAL       ~Func:get_current_map_header
   20:  LW        S0, C (S2)
   24:  COPY      A0, S2
   28:  LW        S3, 14 (V0)
   2C:  LW        A1, 0 (S0)
   30:  JAL       ~Func:get_variable
   34:  ADDIU     S0, S0, 4
   38:  LW        A1, 0 (S0)
   3C:  ADDIU     S0, S0, 4
   40:  SLL       S1, V0, 4
   44:  ADDU      S1, S1, S3
   48:  LWC1      F0, 0 (S1)
   4C:  TRUNC.W.S F2, F0
   50:  MFC1      A2, F2
   54:  JAL       ~Func:set_variable
   58:  COPY      A0, S2
   5C:  LW        A1, 0 (S0)
   60:  ADDIU     S0, S0, 4
   64:  LWC1      F0, 4 (S1)
   68:  TRUNC.W.S F2, F0
   6C:  MFC1      A2, F2
   70:  JAL       ~Func:set_variable
   74:  COPY      A0, S2
   78:  LW        A1, 0 (S0)
   7C:  ADDIU     S0, S0, 4
   80:  LWC1      F0, 8 (S1)
   84:  TRUNC.W.S F2, F0
   88:  MFC1      A2, F2
   8C:  JAL       ~Func:set_variable
   90:  COPY      A0, S2
   94:  LWC1      F0, C (S1)
   98:  LW        A1, 0 (S0)
   9C:  TRUNC.W.S F2, F0
   A0:  MFC1      A2, F2
   A4:  JAL       ~Func:set_variable
   A8:  COPY      A0, S2
   AC:  LW        RA, 20 (SP)
   B0:  LW        S3, 1C (SP)
   B4:  LW        S2, 18 (SP)
   B8:  LW        S1, 14 (SP)
   BC:  LW        S0, 10 (SP)
   C0:  LI        V0, 2
   C4:  JR        RA
   C8:  ADDIU     SP, SP, 28
}

% 007E4B80 --> 80283D00
#new:Function $Function_SetupSingleDoor
{
    0:  COPY      A1, A0
    4:  LW        V0, 90 (A1)
    8:  BLTZ      V0, .o30
    C:  LI        V1, FFFF
   10:  LA        V0, 802DBD28
   18:  LW        A0, 8C (A1)
   1C:  SW        V1, 4 (V0)
   20:  SAW       V1, 802DBC7C
   28:  BEQ       R0, R0, .o54
   2C:  SW        A0, 0 (V0)
        .o30
   30:  LA        V0, 802DBC7C
   38:  LW        A0, 8C (A1)
   3C:  SW        V1, 4 (V0)
   40:  SAW       V1, 802DBD28
   48:  SW        A0, 0 (V0)
   4C:  LA        V0, 802DBD28
        .o54
   54:  SW        V0, 8C (A1)
   58:  LA        V0, 802DBC7C
   60:  SW        V0, 90 (A1)
   64:  JR        RA
   68:  LI        V0, 2
}

% 007E4BEC --> 80283D6C
#new:Function $Function_SetupSplitSingleDoor
{
    0:  COPY      A1, A0
    4:  LW        V0, 90 (A1)
    8:  BLTZ      V0, .o3C
    C:  NOP
   10:  LW        V0, 8C (A1)
   14:  LA        V1, 802DBD28
   1C:  SW        V0, 0 (V1)
   20:  LW        A0, 94 (A1)
   24:  LI        V0, FFFF
   28:  SW        V0, 8 (V1)
   2C:  SAW       V0, 802DBC7C
   34:  BEQ       R0, R0, .o64
   38:  SW        A0, 4 (V1)
        .o3C
   3C:  LW        V0, 8C (A1)
   40:  LA        V1, 802DBC7C
   48:  SW        V0, 0 (V1)
   4C:  LW        A0, 94 (A1)
   50:  LI        V0, FFFF
   54:  SW        V0, 8 (V1)
   58:  SAW       V0, 802DBD28
   60:  SW        A0, 4 (V1)
        .o64
   64:  LA        V0, 802DBD28
   6C:  SW        V0, 8C (A1)
   70:  LA        V0, 802DBC7C
   78:  SW        V0, 90 (A1)
   7C:  JR        RA
   80:  LI        V0, 2
}

% 007E4C70 --> 80283DF0
#new:Function $Function_SetupDoubleDoors
{
    0:  LA        V1, 802DBD28
    8:  LW        V0, 8C (A0)
    C:  LI        A2, FFFF
   10:  SW        A2, 4 (V1)
   14:  SW        V0, 0 (V1)
   18:  LW        A1, 90 (A0)
   1C:  LA        V0, 802DBC7C
   24:  SW        A2, 4 (V0)
   28:  SW        A1, 0 (V0)
   2C:  SW        V0, 90 (A0)
   30:  LI        V0, 2
   34:  JR        RA
   38:  SW        V1, 8C (A0)
}

% 007E4CAC --> 80283E2C
#new:Function $Function_SetupSplitDoubleDoors
{
    0:  LW        V0, 8C (A0)
    4:  LA        A1, 802DBD28
    C:  SW        V0, 0 (A1)
   10:  LW        V0, 94 (A0)
   14:  LI        A2, FFFF
   18:  SW        A2, 8 (A1)
   1C:  SW        V0, 4 (A1)
   20:  LW        V1, 90 (A0)
   24:  LA        V0, 802DBC7C
   2C:  SW        V1, 0 (V0)
   30:  LW        V1, 98 (A0)
   34:  SW        A2, 8 (V0)
   38:  SW        V1, 4 (V0)
   3C:  SW        V0, 90 (A0)
   40:  LI        V0, 2
   44:  JR        RA
   48:  SW        A1, 8C (A0)
}

PADDING: 80283E78 to 80283E80 (007E4CF8 to 007E4D00)
00000000 00000000

% 007E4D00 --> 80283E80
#new:Script $Script_ShopBeginSpeech
{
    0:  Call  SpeakToPlayer ( *Var1 *Var2 *Var3 00000000 *Var0 ) % variable string ID
   20:  Return
   28:  End
}

% 007E4D30 --> 80283EB0
#new:Script $Script_ShopContinueSpeech
{
    0:  Call  ContinueSpeech    ( *Var1 *Var2 *Var3 00000000 *Var0 ) % variable string ID
   20:  Return
   28:  End
}

% 007E4D60 --> 80283EE0
#new:Script $Script_ShopResetSpeech
{
    0:  Call  EndSpeech     ( *Var1 *Var2 *Var3 00000000 )
   1C:  Call  SpeakToPlayer ( *Var1 *Var2 *Var3 00000000 *Var0 ) % variable string ID
   3C:  Return
   44:  End
}

% 007E4DAC --> 80283F2C
#new:Script $Script_ShopEndSpeech
{
    0:  Call  EndSpeech ( *Var0 *Var1 *Var2 00000000 )
   1C:  Return
   24:  End
}

% Origin: HEURISTIC
% 007E4DD8 --> 80283F58
#new:Script $Script_80283F58
{
    0:  Call  GetCurrentPartner ( *Var1 )
   10:  If  *Var1  ==  00000000
   20:  	Goto  A
   2C:  EndIf
   34:  If  *Var1  ==  00000002
   44:  	Goto  A
   50:  EndIf
   58:  If  *Var1  ==  00000003
   68:  	Goto  A
   74:  EndIf
   7C:  Return
   84:  Label  A
   90:  Call  $Function_802803C8 ( )
   9C:  If  *Var2  ==  00000000
   AC:  	Return
   B4:  EndIf
   BC:  Call  $Function_80280410    ( *Var0 )
   CC:  Return
   D4:  End
}

% 007E4EB4 --> 80284034
#new:Script $Script_BadgeShopInteract
{
    0:  Call  $Function_ShowShopPurchaseDialog  ( *Var0 )
   10:  Return
   18:  End
}

% 007E4ED4 --> 80284054
#new:Script $Script_ItemShopInteract
{
    0:  Call  $Function_ShowShopOwnerDialog ( )
    C:  Return
   14:  End
}

% 007E4EF0 --> 80284070
#new:Script $Script_AdvancedDoorVisiblityToggle
{
    0:  Call  $Function_80282414 ( )
    C:  Return
   14:  End
}

% 007E4F0C --> 8028408C
#new:Script $Script_8028408C
{
    0:  Call  GetPlayerPos  ( *VarB *VarC *VarD )
   18:  Set   *VarB  *Var3
   28:  Set   *VarD  *Var4
   38:  Call  PlayerMoveTo  ( *Var3 *Var4 *VarE )
   50:  Call  802D2884      ( *Var5 *Var6 00000000 )
   68:  Return
   70:  End
}

% 007E4F84 --> 80284104
#new:Script $Script_80284104
{
    0:  Call  $Function_80282314 ( )
    C:  Call  $Function_802827CC ( )
   18:  Call  GetPlayerPos  ( *VarB *VarC *VarD )
   30:  Set   *VarB  *Var5
   40:  Set   *VarD  *Var6
   50:  Set   *VarE  00000014
   60:  Call  PlayerMoveTo  ( *Var5 *Var6 *VarE )
   78:  Return
   80:  End
}

% 007E500C --> 8028418C
#new:Script $Script_8028418C
{
    0:  Call  $Function_80282594    ( *Fixed[1.796875] )
   10:  Call  GetPlayerPos  ( *VarB *VarC *VarD )
   28:  Set   *VarB  *Var5
   38:  Set   *VarD  *Var6
   48:  Set   *VarE  0000000A
   58:  Call  802CB008  ( 00000000 00000001 *VarB *VarC *VarD *VarE )
   7C:  Call  $Function_80282594    ( FFFFFFFF )
   8C:  Return
   94:  End
}

% 007E50A8 --> 80284228
#new:Script $Script_80284228
{
    0:  Call  GetPlayerPos  ( *VarB *VarC *VarD )
   18:  Set   *VarB  *Var7
   28:  Set   *VarD  *Var8
   38:  Set   *VarE  0000000A
   48:  Call  PlayerMoveTo  ( *Var7 *Var8 *VarE )
   60:  Call  802D2884      ( *Var9 *VarA 00000000 )
   78:  Return
   80:  End
}

% 007E5130 --> 802842B0
#new:Script $Script_802842B0
{
    0:  Call  $Function_80282314 ( )
    C:  Call  $Function_802827CC ( )
   18:  Call  GetPlayerPos  ( *VarB *VarC *VarD )
   30:  Set   *VarB  *Var9
   40:  Set   *VarD  *VarA
   50:  Set   *VarE  00000014
   60:  Call  PlayerMoveTo  ( *Var9 *VarA *VarE )
   78:  Return
   80:  End
}

% 007E51B8 --> 80284338
#new:Script $Script_80284338
{
    0:  Call  $Function_80282594    ( *Fixed[1.796875] )
   10:  Call  GetPlayerPos  ( *VarB *VarC *VarD )
   28:  Set   *VarB  *Var9
   38:  Set   *VarD  *VarA
   48:  Set   *VarE  0000000A
   58:  Call  802CB008  ( 00000000 00000001 *VarB *VarC *VarD *VarE )
   7C:  Call  $Function_80282594    ( FFFFFFFF )
   8C:  Return
   94:  End
}

% 007E5254 --> 802843D4
#new:Script $Script_802843D4
{
    0:  Call  $Function_80282314 ( )
    C:  Set   *Var2  *VarB
   1C:  Set   *Var3  *Var0
   2C:  Switch  *Var0
   38:  	Case  ==  00000000
   44:  		Call  MakeLerp  ( 00000000 0000005A 0000000A .Easing:CubicOut )
   60:  		Call  $Function_802822A8    ( A0000000 )
   70:  	Case  ==  00000001
   7C:  		Call  MakeLerp  ( 0000005A 00000000 0000000A .Easing:CubicIn )
   98:  	Case  ==  00000002
   A4:  		Call  MakeLerp  ( 00000000 0000005A 0000000A .Easing:CubicOut )
   C0:  		Call  $Function_802822A8    ( A0000000 )
   D0:  	Case  ==  00000003
   DC:  		Call  MakeLerp  ( 0000005A 00000000 0000000A .Easing:CubicIn )
   F8:  EndSwitch
  100:  Label  0
  10C:  Call  UpdateLerp ( )
  118:  Exec  *Var2
  124:  Wait  1`
  130:  If  *Var1  ==  00000001
  140:  	Goto  0
  14C:  EndIf
  154:  Switch  *Var3
  160:  	Case  ==  00000001
  16C:  		Call  $Function_802822A8    ( A0000001 )
  17C:  	Case  ==  00000003
  188:  		Call  $Function_802822A8    ( A0000001 )
  198:  EndSwitch
  1A0:  Return
  1A8:  End
}

% 007E5404 --> 80284584
#new:Script $Script_80284584
{
    0:  Set   *Var2  *VarC
   10:  Switch  *Var0
   1C:  	Case  ==  00000000
   28:  		Call  MakeLerp  ( 00000000 0000005A 00000014 .Easing:CubicOut )
   44:  	Case  ==  00000001
   50:  		Call  MakeLerp  ( 0000005A 00000000 00000014 .Easing:CubicIn )
   6C:  	Case  ==  00000002
   78:  		Call  MakeLerp  ( 00000000 0000005A 00000014 .Easing:CubicOut )
   94:  	Case  ==  00000003
   A0:  		Call  MakeLerp  ( 0000005A 00000000 00000014 .Easing:CubicIn )
   BC:  EndSwitch
   C4:  Label  0
   D0:  Call  UpdateLerp ( )
   DC:  Exec  *Var2
   E8:  Wait  1`
   F4:  If  *Var1  ==  00000001
  104:  	Goto  0
  110:  EndIf
  118:  Return
  120:  End
}

% 007E552C --> 802846AC
#new:Script $Script_802846AC
{
    0:  Set   *Var2  *VarD
   10:  Switch  *Var0
   1C:  	Case  ==  00000000
   28:  		Call  MakeLerp  ( 00000000 0000005A 00000014 .Easing:CubicIn )
   44:  	Case  ==  00000001
   50:  		Call  MakeLerp  ( 0000005A 00000000 0000000A .Easing:CubicOut )
   6C:  	Case  ==  00000002
   78:  		Call  MakeLerp  ( 00000000 0000005A 00000014 .Easing:CubicIn )
   94:  	Case  ==  00000003
   A0:  		Call  MakeLerp  ( 0000005A 00000000 0000000A .Easing:CubicOut )
   BC:  EndSwitch
   C4:  Label  0
   D0:  Call  UpdateLerp ( )
   DC:  Exec  *Var2
   E8:  Wait  1`
   F4:  If  *Var1  ==  00000001
  104:  	Goto  0
  110:  EndIf
  118:  Return
  120:  End
}

% 007E5654 --> 802847D4
#new:Script $Script_AdvancedDoorOpen
{
    0:  SetGroup  00000000
    C:  Call  GetPlayerActionState  ( *Var3 )
   1C:  Set   *Var4  00000000
   2C:  If  *Var3  ==  .ActionState:Idle % 0
   3C:  	Add   *Var4  00000001
   4C:  EndIf
   54:  If  *Var3  ==  .ActionState:Walk % 1
   64:  	Add   *Var4  00000001
   74:  EndIf
   7C:  If  *Var3  ==  .ActionState:Run % 2
   8C:  	Add   *Var4  00000001
   9C:  EndIf
   A4:  If  *Var4  ==  00000000
   B4:  	Return
   BC:  EndIf
   C4:  Call  $Function_80282314 ( )
   D0:  Call  $Function_80282324 ( )
   DC:  If  *Var0  !=  00000000
   EC:  	Return
   F4:  EndIf
   FC:  Call  $Function_80282338    ( 00000001 )
  10C:  Call  $Function_80282634 ( )
  118:  Call  $Function_80282774 ( )
  124:  Call  DisablePlayerPhysics  ( .True )
  134:  Call  DisablePlayerInput    ( .True )
  144:  Call  $Function_802827CC ( )
  150:  Set   *Var0  00000000
  160:  If  *VarE  !=  00000000
  170:  	ExecWait  *VarE
  17C:  EndIf
  184:  If  *Var0  ==  FFFFFFFF
  194:  	Goto  1
  1A0:  EndIf
  1A8:  Call  $Function_802827CC ( )
  1B4:  Exec  $Script_8028418C
  1C0:  Call  $Function_802827CC ( )
  1CC:  ConstAND  *Var2 000000FF
  1DC:  Set   *VarE  0000000A
  1EC:  Switch  *Var2
  1F8:  	Case  ==  00000000
  204:  		ExecWait  $Script_8028408C
  210:  	Case  ==  00000002
  21C:  		ExecWait  $Script_8028408C
  228:  	Case  ==  00000004
  234:  		ExecWait  $Script_8028408C
  240:  	Case  ==  00000005
  24C:  		Set   *VarE  00000014
  25C:  		ExecWait  $Script_8028408C
  268:  	Case  ==  00000007
  274:  		Set   *VarE  00000014
  284:  		ExecWait  $Script_8028408C
  290:  EndSwitch
  298:  Call  $Function_802827CC ( )
  2A4:  Set   *Var0  00000000
  2B4:  Call  $Function_80282868 ( )
  2C0:  If  *VarF  !=  00000000
  2D0:  	Exec  $Script_AdvancedDoorVisiblityToggle *Var5
  2E0:  	Call  $Function_802823B0    ( 00000000 *Var5 )
  2F4:  EndIf
  2FC:  Call  $Function_SetEntityHideMode1 ( )
  308:  If  *VarF  !=  00000000
  318:  	Call  $Function_8028236C    ( 00000000 )
  328:  EndIf
  330:  Call  $Function_802827CC ( )
  33C:  Set   *Var0  00000000
  34C:  ConstAND  *Var2 00000200
  35C:  If  *VarC  !=  00000000
  36C:  	If  *Var2  !=  00000000
  37C:  		Exec  *VarC *Var5
  38C:  	Else
  394:  		Exec  $Script_80284584 *Var5
  3A4:  	EndIf
  3AC:  EndIf
  3B4:  If  *VarC  !=  00000000
  3C4:  	Call  $Function_802823B0    ( 00000000 *Var5 )
  3D8:  EndIf
  3E0:  Set   *Var0  00000000
  3F0:  ConstAND  *Var2 00000100
  400:  If  *Var2  !=  00000000
  410:  	Exec  *VarB *Var5
  420:  Else
  428:  	Exec  $Script_802843D4 *Var5
  438:  EndIf
  440:  Call  $Function_802823B0    ( 00000003 *Var5 )
  454:  Call  SetNpcFlagBits        ( .Npc:Partner 00000040 .True )
  46C:  Call  $Function_8028236C    ( 00000003 )
  47C:  Call  $Function_SetEntityHideMode2 ( )
  488:  Exec  $Script_80284104 *Var7
  498:  Call  $Function_802823B0    ( 00000003 *Var7 )
  4AC:  Wait  10`
  4B8:  Call  $Function_80282314 ( )
  4C4:  Call  $Function_802827CC ( )
  4D0:  Call  $Function_80281C20    ( *Var5 *Var6 )
  4E4:  Call  $Function_8028236C    ( 00000003 )
  4F4:  Call  DisablePlayerInput    ( .False )
  504:  Call  DisablePlayerPhysics  ( .False )
  514:  Call  SetNpcFlagBits        ( .Npc:Partner 00000040 .False )
  52C:  Call  $Function_80281C84 ( )
  538:  Set   *Var0  00000001
  548:  ConstAND  *Var2 00000100
  558:  If  *Var2  !=  00000000
  568:  	Exec  *VarB *Var5
  578:  Else
  580:  	Exec  $Script_802843D4 *Var5
  590:  EndIf
  598:  Call  $Function_802823B0    ( 00000003 *Var5 )
  5AC:  Set   *Var0  00000000
  5BC:  ConstAND  *Var2 00000400
  5CC:  If  *VarD  !=  00000000
  5DC:  	Call  $Function_8028236C    ( 00000003 )
  5EC:  	If  *Var2  !=  00000000
  5FC:  		Exec  *VarD *Var5
  60C:  	Else
  614:  		Exec  $Script_802846AC *Var5
  624:  	EndIf
  62C:  EndIf
  634:  If  *VarD  !=  00000000
  644:  	Call  $Function_802823B0    ( 00000001 *Var5 )
  658:  EndIf
  660:  Set   *Var0  00000001
  670:  If  *VarE  !=  00000000
  680:  	Exec  *VarE *Var5
  690:  EndIf
  698:  If  *VarE  !=  00000000
  6A8:  	Call  $Function_802823B0    ( 00000002 *Var5 )
  6BC:  EndIf
  6C4:  If  *VarE  !=  00000000
  6D4:  	Call  $Function_8028236C    ( 00000002 )
  6E4:  EndIf
  6EC:  If  *VarC  !=  00000000
  6FC:  	Call  $Function_8028236C    ( 00000000 )
  70C:  EndIf
  714:  If  *VarD  !=  00000000
  724:  	Call  $Function_8028236C    ( 00000001 )
  734:  EndIf
  73C:  Call  $Function_80282338    ( 00000000 )
  74C:  Return
  754:  Label  1
  760:  Call  $Function_80282338    ( 00000000 )
  770:  Label  0
  77C:  Call  DisablePlayerInput    ( .False )
  78C:  Call  DisablePlayerPhysics  ( .False )
  79C:  Return
  7A4:  End
}

% 007E5E00 --> 80284F80
#new:Script $Script_AdvancedDoorClose
{
    0:  SetGroup  00000000
    C:  Call  GetPlayerActionState  ( *Var3 )
   1C:  Set   *Var4  00000000
   2C:  If  *Var3  ==  .ActionState:Idle % 0
   3C:  	Add   *Var4  00000001
   4C:  EndIf
   54:  If  *Var3  ==  .ActionState:Walk % 1
   64:  	Add   *Var4  00000001
   74:  EndIf
   7C:  If  *Var3  ==  .ActionState:Run % 2
   8C:  	Add   *Var4  00000001
   9C:  EndIf
   A4:  If  *Var4  ==  00000000
   B4:  	Return
   BC:  EndIf
   C4:  Call  $Function_80282314 ( )
   D0:  Call  $Function_80282324 ( )
   DC:  If  *Var0  !=  00000000
   EC:  	Return
   F4:  EndIf
   FC:  Call  $Function_80282338    ( 00000002 )
  10C:  Call  DisablePlayerPhysics  ( .True )
  11C:  Call  DisablePlayerInput    ( .True )
  12C:  Call  $Function_802827CC ( )
  138:  Set   *Var0  00000002
  148:  If  *VarE  !=  00000000
  158:  	ExecWait  *VarE
  164:  EndIf
  16C:  If  *Var0  ==  FFFFFFFF
  17C:  	Goto  1
  188:  EndIf
  190:  Call  $Function_802827CC ( )
  19C:  Exec  $Script_80284338
  1A8:  Call  $Function_802827CC ( )
  1B4:  ConstAND  *Var2 000000FF
  1C4:  Switch  *Var2
  1D0:  	Case  ==  00000001
  1DC:  		ExecWait  $Script_80284228
  1E8:  	Case  ==  00000006
  1F4:  		ExecWait  $Script_80284228
  200:  	Case  ==  00000003
  20C:  		ExecWait  $Script_80284228
  218:  EndSwitch
  220:  Call  $Function_802827CC ( )
  22C:  Call  $Function_80282868 ( )
  238:  Set   *Var0  00000003
  248:  ConstAND  *Var2 00000200
  258:  If  *VarC  !=  00000000
  268:  	If  *Var2  !=  00000000
  278:  		Exec  *VarC *Var5
  288:  	Else
  290:  		Exec  $Script_80284584 *Var5
  2A0:  	EndIf
  2A8:  EndIf
  2B0:  If  *VarC  !=  00000000
  2C0:  	Call  $Function_802823B0    ( 00000000 *Var5 )
  2D4:  EndIf
  2DC:  Set   *Var0  00000003
  2EC:  ConstAND  *Var2 00000400
  2FC:  If  *VarD  !=  00000000
  30C:  	If  *Var2  !=  00000000
  31C:  		Exec  *VarD *Var5
  32C:  	Else
  334:  		Exec  $Script_802846AC *Var5
  344:  	EndIf
  34C:  EndIf
  354:  If  *VarD  !=  00000000
  364:  	Call  $Function_802823B0    ( 00000001 *Var5 )
  378:  EndIf
  380:  If  *VarD  !=  00000000
  390:  	Call  $Function_8028236C    ( 00000001 )
  3A0:  EndIf
  3A8:  Set   *Var0  00000002
  3B8:  ConstAND  *Var2 00000100
  3C8:  If  *Var2  !=  00000000
  3D8:  	Exec  *VarB *Var5
  3E8:  Else
  3F0:  	Exec  $Script_802843D4 *Var5
  400:  EndIf
  408:  Call  $Function_802823B0    ( 00000001 *Var5 )
  41C:  Call  $Function_8028236C    ( 00000001 )
  42C:  Call  $Function_80282868 ( )
  438:  Call  SetNpcFlagBits        ( .Npc:Partner 00000040 .True )
  450:  Call  $Function_80282314 ( )
  45C:  Call  $Function_802827CC ( )
  468:  Call  $Function_80281C20    ( *Var9 *VarA )
  47C:  Exec  $Script_802842B0 *Var5
  48C:  Call  $Function_802823B0    ( 00000001 *Var5 )
  4A0:  Call  $Function_SetEntityHideMode0 ( )
  4AC:  Set   *Var0  00000003
  4BC:  If  *VarF  !=  00000000
  4CC:  	Exec  $Script_AdvancedDoorVisiblityToggle *Var5
  4DC:  EndIf
  4E4:  If  *VarF  !=  00000000
  4F4:  	Call  $Function_802823B0    ( 00000002 *Var5 )
  508:  EndIf
  510:  If  *VarF  !=  00000000
  520:  	Call  $Function_8028236C    ( 00000002 )
  530:  EndIf
  538:  Call  $Function_8028236C    ( 00000001 )
  548:  Call  DisablePlayerInput    ( .False )
  558:  Call  DisablePlayerPhysics  ( .False )
  568:  Call  SetNpcFlagBits        ( .Npc:Partner 00000040 .False )
  580:  Call  $Function_80281C84 ( )
  58C:  Call  $Function_802827CC ( )
  598:  Set   *Var0  00000003
  5A8:  ConstAND  *Var2 00000100
  5B8:  If  *Var2  !=  00000000
  5C8:  	ExecWait  *VarB
  5D4:  Else
  5DC:  	ExecWait  $Script_802843D4
  5E8:  EndIf
  5F0:  Call  $Function_802827CC ( )
  5FC:  Set   *Var0  00000003
  60C:  If  *VarE  !=  00000000
  61C:  	ExecWait  *VarE
  628:  EndIf
  630:  Call  $Function_80282700 ( )
  63C:  Call  $Function_802827A8 ( )
  648:  Call  $Function_80282338    ( 00000000 )
  658:  Return
  660:  Label  1
  66C:  Call  $Function_80282338    ( 00000000 )
  67C:  Label  0
  688:  Call  DisablePlayerPhysics  ( .False )
  698:  Call  DisablePlayerInput    ( .False )
  6A8:  Return
  6B0:  End
}

PADDING: 80285638 to 80285640 (007E64B8 to 007E64C0)
00000000 00000000

% Origin: HEURISTIC
% 007E64C0 --> 80285640
#new:FloatTable $FloatTable_80285640
{
	0.04     0.04     0.08     0.16     0.21     0.4      0.6      0.72
	0.84     0.92     0.96     0.96     1.0
}

% Origin: HEURISTIC
% 007E64F4 --> 80285674
#new:Script $Script_80285674
{
    0:  Set   *VarA  *Var0
   10:  Set   *VarB  *Var1
   20:  Call  $Function_80282E30 ( )
   2C:  Call  802D2884  ( *Var3 *Var5 00000000 )
   44:  If  *Var9  !=  00000002
   54:  	Call  $Function_80282880 ( )
   60:  EndIf
   68:  Set   *VarC  00000000
   78:  Call  $Function_CheckActionState    ( *VarD .ActionState:Run )
   8C:  If  *VarD  ==  .False
   9C:  	Call  $Function_CheckActionState    ( *VarD 00000014 )
   B0:  	If  *VarD  ==  .False
   C0:  		Return
   C8:  	EndIf
   D0:  EndIf
   D8:  If  *Var9  !=  00000000
   E8:  	Call  SetPlayerActionState  ( .ActionState:Idle )
   F8:  	Return
  100:  EndIf
  108:  Set   *VarC  00000000
  118:  Label  0
  124:  Add   *VarC  00000001
  134:  Call  $Function_80283174 ( )
  140:  If  *VarD  ==  .True
  150:  	Goto  1
  15C:  EndIf
  164:  Call  GetPlayerActionState  ( *VarD )
  174:  If  *VarD  ==  .ActionState:Jump % 3
  184:  	Return
  18C:  EndIf
  194:  Call  SetPlayerActionState  ( .ActionState:Idle )
  1A4:  Return
  1AC:  Label  1
  1B8:  Call  SetPlayerActionState  ( 00000014 )
  1C8:  Call  $Function_80282880 ( )
  1D4:  If  *VarC  <  00000008
  1E4:  	Wait  1`
  1F0:  	Goto  0
  1FC:  EndIf
  204:  Call  $Function_80283080 ( )
  210:  Call  PlaySound ( 00002088 )
  220:  Call  DisablePlayerPhysics  ( .True )
  230:  Call  $Function_802828DC ( )
  23C:  Call  $Function_80282C40 ( )
  248:  Thread
  250:  	Wait  2`
  25C:  	Call  $Function_CheckActionState    ( *VarD 00000014 )
  270:  	If  *VarD  !=  .False
  280:  		Call  $Function_80283240    ( *VarD $Script_80285674 )
  294:  		If  *VarD  ==  00000000
  2A4:  			Call  SetPlayerActionState  ( .ActionState:Idle )
  2B4:  		EndIf
  2BC:  	EndIf
  2C4:  EndThread
  2CC:  Call  DisablePlayerPhysics  ( .False )
  2DC:  Return
  2E4:  End
}

% 007E67E0 --> 80285960
#new:Script $Script_EnterWalk
{
    0:  Call  $Function_ShortenPartnerTetherDistance ( )
    C:  Call  $Function_CheckRideScriptForEnterExit ( )
   18:  Call  UseEntryHeading   ( 0000003C 0000000F )
   2C:  If  *VarA  ==  00000000
   3C:  	Call  $Function_TeleportPartnerToPlayer ( )
   48:  	Call  PlayerMoveTo  ( *Var1 *Var3 0000000F )
   60:  Else
   68:  	Set   *VarF  *Var0
   78:  	Set   *Var0  00000000
   88:  	Set   *VarC  00000001
   98:  	Set   *Var4  0000000F
   A8:  	ExecWait  *VarB
   B4:  	Set   *Var0  *VarF
   C4:  EndIf
   CC:  Exec  *Var0
   D8:  Call  802D2148 ( )
   E4:  Call  $Function_ResetPartnerTetherDistance ( )
   F0:  Return
   F8:  End
}

% 007E68E0 --> 80285A60
#new:Script $Script_EnterWalkShort
{
    0:  Call  $Function_ShortenPartnerTetherDistance ( )
    C:  Call  $Function_CheckRideScriptForEnterExit ( )
   18:  Call  UseEntryHeading   ( 00000028 0000000F )
   2C:  If  *VarA  ==  00000000
   3C:  	Call  $Function_TeleportPartnerToPlayer ( )
   48:  	Call  PlayerMoveTo  ( *Var1 *Var3 0000000F )
   60:  Else
   68:  	Set   *VarF  *Var0
   78:  	Set   *Var0  00000000
   88:  	Set   *VarC  00000001
   98:  	Set   *Var4  0000000F
   A8:  	ExecWait  *VarB
   B4:  	Set   *Var0  *VarF
   C4:  EndIf
   CC:  Exec  *Var0
   D8:  Call  802D2148 ( )
   E4:  Call  $Function_ResetPartnerTetherDistance ( )
   F0:  Return
   F8:  End
}

% 007E69E0 --> 80285B60
#new:Script $Script_EnterWalkCustom
{
    0:  Call  $Function_ShortenPartnerTetherDistance ( )
    C:  Call  $Function_CheckRideScriptForEnterExit ( )
   18:  Call  UseEntryHeading   ( *Var1 *Var4 )
   2C:  If  *VarA  ==  00000000
   3C:  	Call  $Function_TeleportPartnerToPlayer ( )
   48:  	Call  PlayerMoveTo  ( *Var1 *Var3 *Var4 )
   60:  Else
   68:  	Set   *VarF  *Var0
   78:  	Set   *Var0  00000000
   88:  	Set   *VarC  00000001
   98:  	ExecWait  *VarB
   A4:  	Set   *Var0  *VarF
   B4:  EndIf
   BC:  Exec  *Var0
   C8:  Call  802D2148 ( )
   D4:  Call  $Function_ResetPartnerTetherDistance ( )
   E0:  Return
   E8:  End
}

% 007E6AD0 --> 80285C50
#new:Script $Script_EnterPostPipe
{
    0:  Call  DisablePlayerPhysics  ( .True )
   10:  Call  $Function_ShortenPartnerTetherDistance ( )
   1C:  Call  $Function_CheckRideScriptForEnterExit ( )
   28:  Call  $Function_EnterPlayerPostPipe ( )
   34:  Call  $Function_ResetPartnerTetherDistance ( )
   40:  Call  DisablePlayerPhysics  ( .False )
   50:  Return
   58:  End
}

% 007E6B30 --> 80285CB0
#new:Script $Script_EnterSavePoint
{
    0:  Call  $Function_ShortenPartnerTetherDistance ( )
    C:  Call  $Function_SetPlayerPositionFromSaveData ( )
   18:  Call  ClearPartnerMoveHistory   ( .Npc:Partner )
   28:  Call  $Function_ResetPartnerTetherDistance ( )
   34:  Return
   3C:  End
}

% 007E6B74 --> 80285CF4
#new:Script $Script_ExitWalk
{
    0:  Call  DisablePlayerInput    ( .True )
   10:  Call  $Function_ShortenPartnerTetherDistance ( )
   1C:  Call  $Function_CheckRideScriptForEnterExit ( )
   28:  If  *VarA  ==  00000000
   38:  	Call  PlayerMoveTo  ( *Var1 *Var3 0000000F )
   50:  Else
   58:  	Set   *Var0  00000000
   68:  	Set   *VarC  00000000
   78:  	Set   *Var4  0000000F
   88:  	ExecWait  *VarB
   94:  EndIf
   9C:  Call  $Function_ResetPartnerTetherDistance ( )
   A8:  Return
   B0:  End
}

% 007E6C2C --> 80285DAC
#new:Script $Script_ExitSingleDoor
{
    0:  Call  $Function_SetupSingleDoor ( )
    C:  ExecWait  $Script_BaseExitDoor
   18:  Return
   20:  End
}

% 007E6C54 --> 80285DD4
#new:Script $Script_EnterSingleDoor
{
    0:  Call  $Function_SetupSingleDoor ( )
    C:  ExecWait  $Script_BaseEnterDoor
   18:  Return
   20:  End
}

% 007E6C7C --> 80285DFC
#new:Script $Script_ExitSplitSingleDoor
{
    0:  Call  $Function_SetupSplitSingleDoor ( )
    C:  ExecWait  $Script_BaseExitDoor
   18:  Return
   20:  End
}

% 007E6CA4 --> 80285E24
#new:Script $Script_EnterSplitSingleDoor
{
    0:  Call  $Function_SetupSplitSingleDoor ( )
    C:  ExecWait  $Script_BaseEnterDoor
   18:  Return
   20:  End
}

% 007E6CCC --> 80285E4C
#new:Script $Script_ExitDoubleDoor
{
    0:  Call  $Function_SetupDoubleDoors ( )
    C:  ExecWait  $Script_BaseExitDoor
   18:  Return
   20:  End
}

% 007E6CF4 --> 80285E74
#new:Script $Script_EnterDoubleDoor
{
    0:  Call  $Function_SetupDoubleDoors ( )
    C:  ExecWait  $Script_BaseEnterDoor
   18:  Return
   20:  End
}

% 007E6D1C --> 80285E9C
#new:Script $Script_ExitSplitDoubleDoor
{
    0:  Call  $Function_SetupSplitDoubleDoors ( )
    C:  ExecWait  $Script_BaseExitDoor
   18:  Return
   20:  End
}

% 007E6D44 --> 80285EC4
#new:Script $Script_EnterSplitDoubleDoor
{
    0:  Call  $Function_SetupSplitDoubleDoors ( )
    C:  ExecWait  $Script_BaseEnterDoor
   18:  Return
   20:  End
}

% 007E6D6C --> 80285EEC
#new:Script $Script_BaseExitDoor
{
    0:  Call  DisablePlayerInput    ( .True )
   10:  Call  DisablePlayerPhysics  ( .True )
   20:  Call  $Function_ShortenPartnerTetherDistance ( )
   2C:  Set   *Var9  *Var0
   3C:  Call  $Function_GetEntryCoords  ( *Var0 *VarC *VarD *VarE *VarB )
   5C:  Add   *VarB  000000B4
   6C:  Call  InterpPlayerYaw       ( *VarB 00000002 )
   80:  Call  ModifyColliderFlags   ( 00000000 *Var1 7FFFFE00 )
   98:  Call  PlaySoundAt   ( 90000000 00000000 *VarC *VarD *VarE )
   B8:  Call  MakeLerp  ( 00000000 00000050 0000000A .Easing:Linear )
   D4:  Label  0
   E0:  Call  UpdateLerp ( )
   EC:  UseIntBuffer  *Var2
   F8:  Loop
  104:  	Get1Int  *VarA
  110:  	If  *VarA  ==  FFFFFFFF
  120:  		BreakLoop
  128:  	EndIf
  130:  	Call  RotateModel   ( *VarA *Var0 00000000 00000001 00000000 )
  150:  EndLoop
  158:  UseIntBuffer  *Var3
  164:  Loop
  170:  	Get1Int  *VarA
  17C:  	If  *VarA  ==  FFFFFFFF
  18C:  		BreakLoop
  194:  	EndIf
  19C:  	Call  RotateModel   ( *VarA *Var0 00000000 FFFFFFFF 00000000 )
  1BC:  EndLoop
  1C4:  Wait  1`
  1D0:  If  *Var1  !=  00000000
  1E0:  	Goto  0
  1EC:  EndIf
  1F4:  Call  UseExitHeading    ( 00000028 *Var9 )
  208:  Call  $Function_CheckRideScriptForEnterExit ( )
  214:  If  *VarA  ==  00000000
  224:  	Call  PlayerMoveTo  ( *Var1 *Var3 0000000F )
  23C:  Else
  244:  	Set   *Var0  00000000
  254:  	Set   *VarC  00000000
  264:  	Set   *Var4  0000000F
  274:  	ExecWait  *VarB
  280:  EndIf
  288:  Call  $Function_ResetPartnerTetherDistance ( )
  294:  Call  DisablePlayerPhysics  ( .False )
  2A4:  Call  DisablePlayerInput    ( .False )
  2B4:  Return
  2BC:  End
}

% 007E7030 --> 802861B0
#new:Script $Script_BaseEnterDoor
{
    0:  Call  DisablePlayerInput    ( .True )
   10:  Call  $Function_ShortenPartnerTetherDistance ( )
   1C:  UseIntBuffer  *Var2
   28:  Loop
   34:  	Get1Int  *VarA
   40:  	If  *VarA  ==  FFFFFFFF
   50:  		BreakLoop
   58:  	EndIf
   60:  	Call  RotateModel   ( *VarA FFFFFFB0 00000000 00000001 00000000 )
   80:  EndLoop
   88:  UseIntBuffer  *Var3
   94:  Loop
   A0:  	Get1Int  *VarA
   AC:  	If  *VarA  ==  FFFFFFFF
   BC:  		BreakLoop
   C4:  	EndIf
   CC:  	Call  RotateModel   ( *VarA FFFFFFB0 00000000 FFFFFFFF 00000000 )
   EC:  EndLoop
   F4:  Call  $Function_GetEntryCoords  ( *Var0 *Var7 *Var8 *Var9 *VarB )
  114:  Call  InterpPlayerYaw   ( *VarB 00000002 )
  128:  Call  $Function_CheckRideScriptForEnterExit ( )
  134:  If  *VarA  ==  00000000
  144:  	Call  $Function_TeleportPartnerToPlayer ( )
  150:  	Call  $Function_PlayerMoveToDoor    ( 0000000A )
  160:  Else
  168:  	Set   *Var0  00000001
  178:  	Set   *VarC  00000001
  188:  	Set   *Var4  0000000F
  198:  	ExecWait  *VarB
  1A4:  EndIf
  1AC:  Thread
  1B4:  	Wait  8`
  1C0:  	Call  PlaySoundAt   ( 90000001 00000000 *Var7 *Var8 *Var9 )
  1E0:  EndThread
  1E8:  Call  MakeLerp  ( FFFFFFB0 00000000 0000000A .Easing:Linear )
  204:  Label  0
  210:  Call  UpdateLerp ( )
  21C:  UseIntBuffer  *Var2
  228:  Loop
  234:  	Get1Int  *VarA
  240:  	If  *VarA  ==  FFFFFFFF
  250:  		BreakLoop
  258:  	EndIf
  260:  	Call  RotateModel   ( *VarA *Var0 00000000 00000001 00000000 )
  280:  EndLoop
  288:  UseIntBuffer  *Var3
  294:  Loop
  2A0:  	Get1Int  *VarA
  2AC:  	If  *VarA  ==  FFFFFFFF
  2BC:  		BreakLoop
  2C4:  	EndIf
  2CC:  	Call  RotateModel   ( *VarA *Var0 00000000 FFFFFFFF 00000000 )
  2EC:  EndLoop
  2F4:  Wait  1`
  300:  If  *Var1  !=  00000000
  310:  	Goto  0
  31C:  EndIf
  324:  Call  $Function_ResetPartnerTetherDistance ( )
  330:  Call  DisablePlayerInput    ( .False )
  340:  Return
  348:  End
}

% 007E7380 --> 80286500
#new:JumpTable $JumpTable_80286500
{
	$Function_MakeDoorAdvanced[16C] $Function_MakeDoorAdvanced[258] $Function_MakeDoorAdvanced[354] $Function_MakeDoorAdvanced[458]
	$Function_MakeDoorAdvanced[4C8] $Function_MakeDoorAdvanced[1D4] $Function_MakeDoorAdvanced[2C8] $Function_MakeDoorAdvanced[3C8]
}

